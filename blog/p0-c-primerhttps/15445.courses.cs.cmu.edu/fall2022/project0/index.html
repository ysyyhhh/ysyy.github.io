<!doctype html><!-- This site was created with Hugo Blox. https://hugoblox.com --><!-- Last Published: March 6, 2024 --><html lang=en-us dir=ltr data-wc-theme-default=light><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=generator content="Hugo Blox Builder 0.2.0"><meta name=author content="吴德盛"><meta name=description content="L1 Relational Model & Relational Algebra 1.1 Databases 数据库：an organized collection of inter-related data that models some aspect of the real-world
数据库管理系统 DBMS：the software that manages a database
1.2 Flat File Strawman 数据库常常以CSV(comma-separated value)文件的形式存储，由DBMS进行管理。每次应用程序要读取或者更新记录时，都必须解析文件(parse files)。"><link rel=alternate hreflang=en-us href=https://ysyyhhh.github.io/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/><link rel=stylesheet href=/css/themes/blue.min.css><link href=/dist/wc.min.css rel=stylesheet><script>window.hbb={defaultTheme:document.documentElement.dataset.wcThemeDefault,setDarkTheme:()=>{document.documentElement.classList.add("dark"),document.documentElement.style.colorScheme="dark"},setLightTheme:()=>{document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light"}},console.debug(`Default Hugo Blox Builder theme is ${window.hbb.defaultTheme}`),"wc-color-theme"in localStorage?localStorage.getItem("wc-color-theme")==="dark"?window.hbb.setDarkTheme():window.hbb.setLightTheme():(window.hbb.defaultTheme==="dark"?window.hbb.setDarkTheme():window.hbb.setLightTheme(),window.hbb.defaultTheme==="system"&&(window.matchMedia("(prefers-color-scheme: dark)").matches?window.hbb.setDarkTheme():window.hbb.setLightTheme()))</script><script>document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll("li input[type='checkbox'][disabled]");e.forEach(e=>{e.parentElement.parentElement.classList.add("task-list")});const t=document.querySelectorAll(".task-list li");t.forEach(e=>{let t=Array.from(e.childNodes).filter(e=>e.nodeType===3&&e.textContent.trim().length>1);if(t.length>0){const n=document.createElement("label");t[0].after(n),n.appendChild(e.querySelector("input[type='checkbox']")),n.appendChild(t[0])}})})</script><link rel=icon type=image/png href=/media/icon_hu78bd9df7c12d38f4bb4741f26974da44_47135_32x32_fill_lanczos_center_3.png><link rel=apple-touch-icon type=image/png href=/media/icon_hu78bd9df7c12d38f4bb4741f26974da44_47135_180x180_fill_lanczos_center_3.png><link rel=canonical href=https://ysyyhhh.github.io/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/><meta property="twitter:card" content="summary"><meta property="twitter:site" content="@GetResearchDev"><meta property="twitter:creator" content="@GetResearchDev"><meta property="og:site_name" content="Ysyy's"><meta property="og:url" content="https://ysyyhhh.github.io/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/"><meta property="og:title" content="P0 [C++ Primer](https://15445.courses.cs.cmu.edu/fall2022/project0/) | Ysyy's"><meta property="og:description" content="L1 Relational Model & Relational Algebra 1.1 Databases 数据库：an organized collection of inter-related data that models some aspect of the real-world
数据库管理系统 DBMS：the software that manages a database
1.2 Flat File Strawman 数据库常常以CSV(comma-separated value)文件的形式存储，由DBMS进行管理。每次应用程序要读取或者更新记录时，都必须解析文件(parse files)。"><meta property="og:image" content="https://ysyyhhh.github.io/media/logo.svg"><meta property="twitter:image" content="https://ysyyhhh.github.io/media/logo.svg"><meta property="og:locale" content="en-us"><meta property="article:published_time" content="2024-03-01T00:00:00+00:00"><meta property="article:modified_time" content="2024-03-06T00:00:00+00:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ysyyhhh.github.io/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/"},"headline":"P0 [C++ Primer](https://15445.courses.cs.cmu.edu/fall2022/project0/)","datePublished":"2024-03-01T00:00:00Z","dateModified":"2024-03-06T00:00:00Z","author":{"@type":"Person","name":"吴德盛"},"publisher":{"@type":"Organization","name":"Ysyy's","logo":{"@type":"ImageObject","url":"https://ysyyhhh.github.io/media/logo.svg"}},"description":"L1 Relational Model \u0026amp; Relational Algebra 1.1 Databases 数据库：an organized collection of inter-related data that models some aspect of the real-world\n数据库管理系统 DBMS：the software that manages a database\n1.2 Flat File Strawman 数据库常常以CSV(comma-separated value)文件的形式存储，由DBMS进行管理。每次应用程序要读取或者更新记录时，都必须解析文件(parse files)。"}</script><title>P0 [C++ Primer](https://15445.courses.cs.cmu.edu/fall2022/project0/) | Ysyy's</title><style>@font-face{font-family:inter var;font-style:normal;font-weight:100 900;font-display:swap;src:url(/dist/font/Inter.var.woff2)format("woff2")}</style><link type=text/css rel=stylesheet href=/dist/pagefind/pagefind-ui.be766eb419317a14ec769d216e9779bfe8f3737c80e780f4ba0dafb57a41a482.css integrity="sha256-vnZutBkxehTsdp0hbpd5v+jzc3yA54D0ug2vtXpBpII="><script src=/dist/pagefind/pagefind-ui.87693d7c6f2b3b347ce359d0ede762c033419f0a32b22ce508c335a81d841f1b.js integrity="sha256-h2k9fG8rOzR841nQ7ediwDNBnwoysizlCMM1qB2EHxs="></script><style>html.dark{--pagefind-ui-primary:#eeeeee;--pagefind-ui-text:#eeeeee;--pagefind-ui-background:#152028;--pagefind-ui-border:#152028;--pagefind-ui-tag:#152028}</style><script>window.addEventListener("DOMContentLoaded",e=>{new PagefindUI({element:"#search",showSubResults:!0})}),document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("search"),t=document.getElementById("search_toggle");t&&t.addEventListener("click",()=>{if(e.classList.toggle("hidden"),e.querySelector("input").value="",e.querySelector("input").focus(),!e.classList.contains("hidden")){let t=document.querySelector(".pagefind-ui__search-clear");t&&!t.hasAttribute("listenerOnClick")&&(t.setAttribute("listenerOnClick","true"),t.addEventListener("click",()=>{e.classList.toggle("hidden")}))}})})</script><script defer src=/js/hugo-blox-en.min.e5fa931947cac2d947732ea37a770aae2b5bd4a50b6048060cd129b46159a06d.js integrity="sha256-5fqTGUfKwtlHcy6jencKritb1KULYEgGDNEptGFZoG0="></script></head><body class="dark:bg-hb-dark dark:text-white page-wrapper" id=top><div id=page-bg></div><div class="page-header sticky top-0 z-30"><header id=site-header class=header><nav class="navbar px-3 flex justify-left"><div class="order-0 h-100"><a class=navbar-brand href=/ title="Ysyy's"><svg data-v-423bf9ae="" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 94.8601207251251 60" class="font"><g data-v-423bf9ae="" id="684bd83c-8655-421a-91ca-a36de4d41074" fill="#000" transform="matrix(3.9037087943793645,0,0,3.9037087943793645,-11.437868196129948,-18.972025738722223)"><path d="M6.58 10.35Q7.63 9.2 8.46 7.91q.84-1.29 1.55-2.9Q10.37 5.05 10.71 5.21 11.05 5.36 11.24 5.56 10.47 6.48 9.85 7.24 9.23 7.99 8.71 8.66 8.19 9.32 7.75 9.93 7.31 10.54 6.89 11.16 6.68 11.87 6.5 12.6q-.19.73-.33 1.39-.14.67-.21 1.23Q5.88 15.79 5.88 16.2 5.73 16.2 5.39 16.14 5.05 16.07 4.7 15.99 4.35 15.9 4.07 15.82 3.78 15.74 3.72 15.68 3.95 15.3 4.17 14.75 4.38 14.2 4.59 13.59T5 12.36Q5.19 11.73 5.36 11.2 5.01 10.11 4.68 9.15 4.35 8.19 4.05 7.41 3.74 6.64 3.46 6.08 3.18 5.52 2.93 5.22 3.07 5.17 3.35 5.11 3.64 5.05 3.98 5 4.33 4.94 4.68 4.91 5.04 4.87 5.32 4.86 5.32 5.21 5.38 5.71 5.45 6.22 5.55 6.79q.11.57.25 1.16Q5.94 8.54 6.08 9.03T6.35 9.88Q6.48 10.23 6.58 10.35zm7.04-.75Q13.61 9.87 13.53 10.16 13.45 10.44 13.34 10.68 13.23 10.91 13.1 11.06 12.98 11.21 12.87 11.21 12.71 11.2 12.68 11 12.68 10.96 12.72 10.87 12.75 10.78 12.8 10.67 12.84 10.56 12.87 10.44 12.91 10.33 12.91 10.25 12.91 10.05 12.82 9.92T12.57 9.79Q12.01 9.79 11.72 10.49 11.42 11.19 11.42 12.54 11.42 12.68 11.44 12.71 11.73 12.7 11.96 12.69 12.19 12.68 12.42 12.68 12.43 12.71 12.43 12.8 12.43 12.92 12.38 12.98 12.05 13.05 11.87 13.1 11.68 13.15 11.58 13.19 11.48 13.23 11.46 13.28 11.44 13.33 11.44 13.41 11.44 13.52 11.45 13.64 11.45 13.75 11.45 13.92 11.45 15.09 10.82 15.81 10.18 16.52 9.04 16.63 8.85 16.62 8.64 16.52 8.43 16.42 8.24 16.27q-.19-.16-.33-.34Q7.77 15.74 7.71 15.54 7.71 15.01 7.94 14.53 8.16 14.04 8.55 13.67 8.93 13.3 9.46 13.07q.52-.23 1.14-.27Q10.6 12.45 10.53 12.11 10.46 11.77 10.38 11.46 10.3 11.14 10.23 10.84T10.16 10.25Q10.16 9.87 10.32 9.5 10.47 9.13 10.72 8.81 10.98 8.5 11.31 8.27 11.65 8.05 12.01 7.97 12.17 8.01 12.43 8.21 12.68 8.41 12.94 8.67 13.19 8.92 13.38 9.18 13.58 9.44 13.62 9.6zM9 15.99Q9.34 15.85 9.64 15.58 9.94 15.32 10.16 14.98 10.39 14.64 10.52 14.27 10.65 13.89 10.65 13.52 10.37 13.57 10.04 13.78 9.7 14 9.41 14.3 9.11 14.6 8.92 14.92 8.72 15.25 8.72 15.48 8.72 15.79 9 15.99zm9.9-2.98Q18.58 14.03 18.26 14.87 17.93 15.71 17.57 16.41 17.21 17.12 16.79 17.72 16.37 18.31 15.86 18.84 15.22 19.52 14.53 19.87 13.85 20.23 13.16 20.23 12.81 20.23 12.47 20.15 12.12 20.08 11.82 19.94 11.52 19.81 11.29 19.64 11.06 19.46 10.96 19.26 10.96 19.1 11.16 18.97 11.33 19.12 11.44 19.21 11.55 19.29 11.66 19.35 11.76 19.4 11.88 19.42 12 19.43 12.15 19.43 12.95 19.43 13.71 18.96 14.48 18.49 15.16 17.63 15.83 16.77 16.39 15.55 16.95 14.32 17.35 12.81 17.16 13.09 16.9 13.5 16.63 13.9 16.31 14.3 15.99 14.7 15.65 15.02 15.3 15.34 14.98 15.46 14.76 15.44 14.51 15.37 14.27 15.29 14.05 15.15 13.83 15.01 13.66 14.81 13.5 14.62 13.44 14.36 13.44 13.96 13.47 13.71 13.5 13.47 13.57 13.17 13.69 12.64 13.94 11.97q.24-.67.57-1.32t.73-1.22T16.07 8.54Q16.18 8.54 16.35 8.56 16.52 8.58 16.7 8.64 16.88 8.69 17.05 8.77 17.22 8.85 17.35 8.97 17.19 9.11 16.67 9.91 16.16 10.71 15.53 12.21 15.46 12.36 15.36 12.66 15.26 12.95 15.17 13.27T15.01 13.9 14.94 14.39Q14.94 14.5 14.97 14.56 15.01 14.62 15.04 14.64 15.29 14.6 15.71 14.23 16.13 13.86 16.66 13.08 17 12.57 17.28 12.07 17.56 11.58 17.83 11.07 18.1 10.57 18.4 10.04 18.69 9.51 19.03 8.95 19.21 8.95 19.42 8.99 19.63 9.03 19.82 9.09 20.02 9.16 20.17 9.23 20.31 9.31 20.38 9.39 19.95 10.32 19.57 11.2 19.19 12.08 18.9 13.01zm6.85.0Q25.42 14.03 25.1 14.87 24.78 15.71 24.42 16.41 24.05 17.12 23.63 17.72 23.21 18.31 22.71 18.84 22.06 19.52 21.38 19.87 20.69 20.23 20.01 20.23 19.66 20.23 19.31 20.15 18.97 20.08 18.67 19.94 18.37 19.81 18.14 19.64 17.91 19.46 17.81 19.26 17.81 19.1 18 18.97 18.17 19.12 18.28 19.21 18.4 19.29 18.5 19.35 18.61 19.4 18.73 19.42 18.84 19.43 19 19.43 19.8 19.43 20.56 18.96 21.32 18.49 22 17.63t1.24-2.08Q23.8 14.32 24.19 12.81 24.01 13.09 23.74 13.5 23.48 13.9 23.16 14.3 22.83 14.7 22.49 15.02T21.83 15.46Q21.6 15.44 21.36 15.37 21.11 15.29 20.9 15.15 20.68 15.01 20.51 14.81 20.34 14.62 20.29 14.36 20.29 13.96 20.31 13.71 20.34 13.47 20.41 13.17 20.54 12.64 20.78 11.97 21.03 11.3 21.36 10.65 21.69 10 22.09 9.43 22.48 8.86 22.92 8.54 23.03 8.54 23.2 8.56 23.37 8.58 23.55 8.64 23.73 8.69 23.9 8.77 24.07 8.85 24.19 8.97 24.04 9.11 23.52 9.91t-1.15 2.3Q22.3 12.36 22.2 12.66 22.11 12.95 22.02 13.27 21.92 13.59 21.85 13.9T21.78 14.39Q21.78 14.5 21.82 14.56 21.85 14.62 21.88 14.64 22.13 14.6 22.55 14.23 22.97 13.86 23.51 13.08 23.84 12.57 24.12 12.07 24.4 11.58 24.68 11.07 24.95 10.57 25.24 10.04 25.54 9.51 25.87 8.95 26.05 8.95 26.26 8.99 26.47 9.03 26.67 9.09 26.87 9.16 27.01 9.23 27.16 9.31 27.23 9.39 26.8 10.32 26.42 11.2 26.04 12.08 25.75 13.01z"/></g></svg></a></div><input id=nav-toggle type=checkbox class=hidden>
<label for=nav-toggle class="order-3 cursor-pointer flex items-center lg:hidden text-dark dark:text-white lg:order-1"><svg id="show-button" class="h-6 fill-current block" viewBox="0 0 20 20"><title>Open Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0V0z"/></svg><svg id="hide-button" class="h-6 fill-current hidden" viewBox="0 0 20 20"><title>Close Menu</title><polygon points="11 9 22 9 22 11 11 11 11 22 9 22 9 11 -2 11 -2 9 9 9 9 -2 11 -2" transform="rotate(45 10 10)"/></svg></label><ul id=nav-menu class="navbar-nav order-3 hidden lg:flex w-full pb-6 lg:order-1 lg:w-auto lg:space-x-2 lg:pb-0 xl:space-x-8 justify-left"><li class=nav-item><a class=nav-link href=/>Home</a></li><li class=nav-item><a class=nav-link href=/docs/>Documentation</a></li><li class=nav-item><a class=nav-link href=/blog/>Blog</a></li><li class=nav-item><a class=nav-link href=/tags/>Topics</a></li></ul><div class="order-1 ml-auto flex items-center md:order-2 lg:ml-0"><button aria-label=search class="text-black hover:text-primary inline-block px-3 text-xl dark:text-white" id=search_toggle><svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 512 512" fill="currentcolor"><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8.0 45.3s-32.8 12.5-45.3.0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9.0 208S93.1.0 208 0 416 93.1 416 208zM208 352a144 144 0 100-288 144 144 0 100 288z"/></svg></button><div class="px-3 text-black hover:text-primary-700 dark:text-white dark:hover:text-primary-300
[&.active]:font-bold [&.active]:text-black/90 dark:[&.active]:text-white"><button class="theme-toggle mt-1" accesskey=t title=appearance><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:hidden"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:block [&:not(dark)]:hidden"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div></nav></header><div id=search class="hidden p-3"></div></div><div class="page-body my-10"><div class="mx-auto flex max-w-screen-xl"><div class="hb-sidebar-mobile-menu fixed inset-0 z-10 bg-white dark:bg-black/80 hidden"></div><aside class="hb-sidebar-container max-lg:[transform:translate3d(0,-100%,0)] lg:hidden xl:block"><div class="px-4 pt-4 lg:hidden"></div><div class="hb-scrollbar lg:h-[calc(100vh-var(--navbar-height))]"><ul class="flex flex-col gap-1 lg:hidden"><li class=open><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/>Blog
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/rpc%E6%A1%86%E6%9E%B6/>rpc框架</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/%E5%A4%A7%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0/>大文件上传</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/%E5%AF%86%E7%A0%81%E5%AE%89%E5%85%A8/>密码安全</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/%E7%9F%AD%E9%93%BE%E7%B3%BB%E7%BB%9F/>短链系统</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/%E7%A7%92%E6%9D%80%E7%B3%BB%E7%BB%9F/>秒杀系统</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/6.5840-lab-1-mapreduce/>6.5840 Lab 1: MapReduce</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/lab2-key-value-server/>lab2 key value server</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/mapreduce-simplified-data-processing-on-large-clusters/>MapReduce: Simplified Data Processing on Large Clusters</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/abstraction-vs-implementation/>Abstraction vs implementation</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/asst1/>asst1</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/asst2/>asst2</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/l2/>L2</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/l4-parallel-programing-basics/>L4 Parallel Programing basics</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/l5-work-distribution-and-scheduling/>L5 Work distribution and scheduling</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/l6/>L6</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/l7/>L7</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/norbert%E4%BD%BF%E7%94%A8%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0%E6%94%B9%E8%BF%9B%E9%9C%80%E6%B1%82%E5%88%86%E7%B1%BB%E4%BB%BB%E5%8A%A1/>NoRBERT：使用迁移学习改进需求分类任务</a></li><li class="flex flex-col open"><a class="hb-sidebar-custom-link
sidebar-active-item bg-primary-100 font-semibold text-primary-800 dark:bg-primary-300 dark:text-primary-900" href=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/>P0 [C++ Primer](https://15445.courses.cs.cmu.edu/fall2022/project0/)</a><ul class=hb-sidebar-mobile-toc><li><a href=#11-databases class=hb-docs-link>1.1 Databases</a></li><li><a href=#12-flat-file-strawman class=hb-docs-link>1.2 Flat File Strawman</a></li><li><a href=#13-database-management-system class=hb-docs-link>1.3 Database Management System</a></li><li><a href=#14-relational-model class=hb-docs-link>1.4 Relational Model</a></li><li><a href=#15-data-manipulation-languages-dmls class=hb-docs-link>1.5 Data Manipulation Languages (DMLs)</a></li><li><a href=#16-relational-algebra-%e5%85%b3%e7%b3%bb%e4%bb%a3%e6%95%b0 class=hb-docs-link>1.6 Relational Algebra 关系代数</a></li><li><a href=#21-relation-languages class=hb-docs-link>2.1 Relation Languages</a></li><li><a href=#22-sql-history class=hb-docs-link>2.2 SQL History</a></li><li><a href=#23-join class=hb-docs-link>2.3 Join</a></li><li><a href=#24-aggregates-%e8%81%9a%e5%90%88%e5%87%bd%e6%95%b0 class=hb-docs-link>2.4 Aggregates 聚合函数</a></li><li><a href=#25-sting-operation class=hb-docs-link>2.5 Sting Operation</a></li><li><a href=#26-date-and-time class=hb-docs-link>2.6 Date and Time</a></li><li><a href=#27-output-redirection class=hb-docs-link>2.7 Output Redirection</a></li><li><a href=#28-output-control class=hb-docs-link>2.8 Output Control</a></li><li><a href=#29-nested-queries class=hb-docs-link>2.9 Nested Queries</a></li><li><a href=#210-window-functions class=hb-docs-link>2.10 Window Functions</a></li><li><a href=#211-commom-table-expressions class=hb-docs-link>2.11. Commom Table Expressions</a></li><li><a href=#31-storage class=hb-docs-link>3.1 Storage</a></li><li><a href=#32-disk-oriented-dbms-overview class=hb-docs-link>3.2 Disk-Oriented DBMS Overview</a></li><li><a href=#33-dbms-vs-os class=hb-docs-link>3.3 DBMS vs OS</a></li><li><a href=#34-file-storage class=hb-docs-link>3.4 File Storage</a></li><li><a href=#35-database-pages class=hb-docs-link>3.5 Database Pages</a></li><li><a href=#36-database-heap class=hb-docs-link>3.6 Database Heap</a></li><li><a href=#37-page-layout class=hb-docs-link>3.7 Page Layout</a></li><li><a href=#38-tuple-layout class=hb-docs-link>3.8 Tuple Layout</a></li><li><a href=#39-log-structured-storage class=hb-docs-link>3.9 Log-Structured Storage</a></li><li><a href=#311-data-representation class=hb-docs-link>3.11 Data Representation</a></li><li><a href=#51-database-workloads class=hb-docs-link>5.1 Database Workloads</a></li><li><a href=#52-storage-models class=hb-docs-link>5.2 Storage Models</a></li><li><a href=#53-database-compression class=hb-docs-link>5.3 Database Compression</a></li><li><a href=#54-naive-compression class=hb-docs-link>5.4 Naive Compression</a></li><li><a href=#55-columnar-compression-%e6%9f%b1%e7%8a%b6%e5%8e%8b%e7%bc%a9 class=hb-docs-link>5.5 Columnar Compression 柱状压缩**</a></li><li><a href=#question-1-storage-models class=hb-docs-link>Question 1: Storage Models</a></li><li><a href=#question-2-cuckoo-hashing class=hb-docs-link>Question 2: Cuckoo Hashing</a></li><li><a href=#question-3-extendible-hashing class=hb-docs-link>Question 3: Extendible Hashing</a></li><li><a href=#question-4-btree class=hb-docs-link>Question 4: B+Tree</a></li><li><a href=#lru-k class=hb-docs-link>LRU-K</a></li><li><a href=#%e6%a6%82%e8%bf%b0 class=hb-docs-link>概述</a></li><li><a href=#task-1---btree-pages class=hb-docs-link>Task #1 - B+Tree Pages</a></li><li><a href=#task-2---btree-data-structure class=hb-docs-link>Task #2 - B+Tree Data Structure</a></li><li><a href=#checkpoint-1%e6%9f%a5%e6%89%be%e6%8f%92%e5%85%a5%e5%92%8c%e5%88%a0%e9%99%a4 class=hb-docs-link>Checkpoint 1：查找，插入和删除</a></li></ul></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/why-parallelism-why-efficiency/>Why parallelism? Why efficiency?</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/openai-%E7%9B%B8%E5%85%B3qa/>openai 相关QA</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/blog/%E6%9D%82/>杂</a></li></ul></div></li><li><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/showcase/>Showcase
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/showcase/nvidia/>Nvidia</a></li></ul></div></li><li><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/>Docs
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/guide/>guide
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/guide/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/>自动化博客搭建</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/guide/%E5%BC%80%E5%8F%91/>开发
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/guide/%E5%BC%80%E5%8F%91/%E5%BC%80%E5%8F%91%E6%B5%81%E7%A8%8B/>开发流程</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/guide/%E9%83%A8%E7%BD%B2/>部署
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/guide/%E9%83%A8%E7%BD%B2/docker%E7%9B%B8%E5%85%B3%E7%9A%84%E9%83%A8%E7%BD%B2%E8%A7%84%E8%8C%83/>docker相关的部署规范</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/guide/%E9%83%A8%E7%BD%B2/%E5%88%A9%E4%BA%8E%E9%83%A8%E7%BD%B2%E7%9A%84%E5%BC%80%E5%8F%91%E8%A7%84%E8%8C%83/>利于部署的开发规范</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/guide/%E9%83%A8%E7%BD%B2/%E9%83%A8%E7%BD%B2%E6%89%8B%E5%86%8C/>部署手册</a></li></ul></div></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/>knowledge
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/llm/>llm
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/llm/%E5%A4%A7%E6%A8%A1%E5%9E%8B%E5%8E%9F%E7%90%86/>大模型原理</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/>操作系统
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/linux/>linux</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80/>操作系统基础</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/>数据库
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/redis/>redis</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BC%98%E5%8C%96/>数据库优化</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E7%A1%80/>数据库基础</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/>笔记
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/sql%E5%AE%9E%E4%BE%8B%E8%A7%A3%E6%9E%90%E4%B8%8E%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F/>sql实例解析与连接方式</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/sql%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/>sql查询优化</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%E5%A4%84%E7%90%86%E5%8F%8A%E5%8F%8D%E8%8C%83%E5%BC%8F/>层次结构处理及反范式</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E9%97%AE%E9%A2%98/>开发中的数据库问题</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98%E5%92%8C%E5%A4%A7%E6%95%B0%E6%8D%AE%E9%87%8F/>数据库并发问题和大数据量</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/%E7%B4%A2%E5%BC%95%E5%8F%8A%E7%89%A9%E7%90%86%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84/>索引及物理组织结构</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/%E9%AB%98%E6%80%A7%E8%83%BD%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E5%8E%9F%E5%88%99/>高性能数据库开发原则</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/img/>img
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/img/sql%E5%AE%9E%E4%BE%8B%E8%A7%A3%E6%9E%90%E4%B8%8E%E8%BF%9E%E6%8E%A5%E6%96%B9%E5%BC%8F/>sql实例解析与连接方式</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/img/sql%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/>sql查询优化</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/img/%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84%E5%A4%84%E7%90%86%E5%8F%8A%E5%8F%8D%E8%8C%83%E5%BC%8F/>层次结构处理及反范式</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/img/%E5%BC%80%E5%8F%91%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E9%97%AE%E9%A2%98/>开发中的数据库问题</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/img/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B9%B6%E5%8F%91%E9%97%AE%E9%A2%98/>数据库并发问题</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/img/%E7%B4%A2%E5%BC%95%E5%8F%8A%E7%89%A9%E7%90%86%E7%BB%84%E7%BB%87%E7%BB%93%E6%9E%84/>索引及物理组织结构</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E6%95%B0%E6%8D%AE%E5%BA%93/%E7%AC%94%E8%AE%B0/img/%E9%AB%98%E6%80%A7%E8%83%BD%E6%95%B0%E6%8D%AE%E5%BA%93%E5%BC%80%E5%8F%91%E5%8E%9F%E5%88%99/>高性能数据库开发原则</a></li></ul></div></li></ul></div></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%AE%97%E6%B3%95/>算法
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%AE%97%E6%B3%95/acmer%E9%9D%A2%E8%AF%95%E7%AE%97%E6%B3%95%E9%A2%98/>acmer面试算法题</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%AE%97%E6%B3%95/%E7%AC%94%E8%AF%95%E7%AE%97%E6%B3%95%E9%A2%98/>笔试算法题</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%AE%97%E6%B3%95/img/>img</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/>系统设计
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%9F%BA%E7%A1%80/>基础</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%AE%89%E5%85%A8/>安全</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E9%9B%86%E7%BE%A4/>集群</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E4%B8%AD%E9%97%B4%E4%BB%B6/>中间件
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E/>搜索引擎</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E4%B8%AD%E9%97%B4%E4%BB%B6/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/>消息队列</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E4%B8%AD%E9%97%B4%E4%BB%B6/%E7%BC%93%E5%AD%98/>缓存</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F/>分布式
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F/mapreduce/>mapreduce</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F/rpc/>rpc</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E7%B3%BB%E7%BB%9F%E8%AE%BE%E8%AE%A1/%E5%88%86%E5%B8%83%E5%BC%8F/%E5%88%86%E5%B8%83%E5%BC%8F%E5%9F%BA%E7%A1%80/>分布式基础</a></li></ul></div></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E8%AE%A1%E7%BD%91/>计网
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E8%AE%A1%E7%BD%91/http/>http</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E8%AE%A1%E7%BD%91/qa/>qa</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E8%AE%A1%E7%BD%91/socketio%E6%A8%A1%E5%9E%8B/>socket(io模型)</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E8%AE%A1%E7%BD%91/%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/>网络基础</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E8%AE%A1%E7%BD%91/img/>img</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/>软件测试
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E7%A8%8B%E5%BA%8F%E5%88%86%E6%9E%90/>程序分析</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/>面向对象
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/>设计模式</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/>面向对象基础</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/>项目管理
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/knowledge/%E9%A1%B9%E7%9B%AE%E7%AE%A1%E7%90%86/git/>git</a></li></ul></div></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/>language
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/c++/>c++
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/c++/modern-c++/>modern c++</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/c++/%E5%A4%9A%E7%BA%BF%E7%A8%8B/>多线程</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/c++/img/>img</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/go/>go</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/>java
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/javaio/>javaio</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/java%E5%9F%BA%E7%A1%80/>java基础</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/java%E5%B9%B6%E5%8F%91/>java并发</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/java%E9%9B%86%E5%90%88/>java集合</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/jvm/>jvm</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/spring/>spring
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/spring/code%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86/>code相关知识</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/spring/spring-cloud-alibaba/>spring-cloud-alibaba</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/spring/spring%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81/>spring常用代码</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/spring/%E4%BB%A3%E7%A0%81%E9%A3%8E%E6%A0%BC/>代码风格</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/java/spring/%E6%9C%8D%E5%8A%A1%E7%AB%AF/>服务端</a></li></ul></div></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/language/python/>python</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tips/>tips
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tips/docker/>docker</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tips/linux/>linux</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tips/piplineaction/>pipline&amp;action</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tips/server/>server</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tips/windows%E4%B8%8B%E7%9A%84%E5%AD%90%E7%B3%BB%E7%BB%9F/>windows下的子系统</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/>tool
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/docker/>docker
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/docker/docker/>docker</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/docker/docker%E5%91%BD%E4%BB%A4/>docker命令</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/git/>git
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/git/git/>git</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/git/%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5/>基本概念</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/ide/>ide
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/ide/vscode%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%85%A8/>vscode快捷键全</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/k8s/>k8s
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/k8s/k8s/>k8s</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/k8s/minikube/>minikube</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/maven/>maven
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/maven/maven/>maven</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/nginx/>nginx
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/nginx/nginx/>nginx</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/npm/>npm
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/npm/npm/>npm</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/python/>python
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/python/conda/>conda</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/python/poetry/>poetry</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/sql/>sql
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/sql/mongodb/>mongodb</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/sql/mysql/>mysql</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/sql/redis/>redis</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/terminal/>terminal
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/terminal/grep/>grep</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/terminal/%E5%91%BD%E4%BB%A4%E8%A1%8C/>命令行</a></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/terminal/%E5%B7%A5%E5%85%B7/>工具</a></li></ul></div></li><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/vim/>vim
<span data-hb-sidebar-toggle><svg fill="none" viewBox="0 0 24 24" stroke="currentcolor" class="h-[18px] min-w-[18px] rounded-sm p-0.5 hover:bg-gray-800/5 dark:hover:bg-gray-100/5"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="origin-center transition-transform rtl:-rotate-180"/></svg></span></a><div class="ltr:pr-0 overflow-hidden"><ul class=hb-sidebar-list><li class="flex flex-col"><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=/docs/tool/vim/%E6%8C%87%E4%BB%A4%E6%89%8B%E5%86%8C/>指令手册</a></li></ul></div></li></ul></div></li></ul></div></li><li class="[word-break:break-word] mt-5 mb-2 px-2 py-1.5 text-sm font-semibold text-gray-900 first:mt-0 dark:text-gray-100 cursor-default"><span>Still need help?</span></li><li><a class="hb-sidebar-custom-link
text-gray-500 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-300 dark:hover:bg-primary-800 dark:hover:text-gray-50" href=https://github.com/ysyyhhh target=_blank rel=noreferer>Github Issue ↗</a></li></ul><div class="max-xl:hidden h-0 w-64 shrink-0"></div></div></aside><nav class="hb-toc order-last hidden w-64 shrink-0 xl:block print:hidden px-4" aria-label="table of contents"><div class="hb-scrollbar text-sm [hyphens:auto] sticky top-16 overflow-y-auto pr-4 pt-6 max-h-[calc(100vh-var(--navbar-height)-env(safe-area-inset-bottom))] -mr-4 rtl:-ml-4"><p class="mb-4 font-semibold tracking-tight">On this page</p><ul><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#11-databases>1.1 Databases</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#12-flat-file-strawman>1.2 Flat File Strawman</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#13-database-management-system>1.3 Database Management System</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#14-relational-model>1.4 Relational Model</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#15-data-manipulation-languages-dmls>1.5 Data Manipulation Languages (DMLs)</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#16-relational-algebra-%e5%85%b3%e7%b3%bb%e4%bb%a3%e6%95%b0>1.6 Relational Algebra 关系代数</a></li></ul><ul><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#21-relation-languages>2.1 Relation Languages</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#22-sql-history>2.2 SQL History</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#23-join>2.3 Join</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#24-aggregates-%e8%81%9a%e5%90%88%e5%87%bd%e6%95%b0>2.4 Aggregates 聚合函数</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#25-sting-operation>2.5 Sting Operation</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#26-date-and-time>2.6 Date and Time</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#27-output-redirection>2.7 Output Redirection</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#28-output-control>2.8 Output Control</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#29-nested-queries>2.9 Nested Queries</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#nested-query-results-expressions>Nested Query Results Expressions:</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#210-window-functions>2.10 Window Functions</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#211-commom-table-expressions>2.11. Commom Table Expressions</a></li></ul><ul></ul><ul><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#31-storage>3.1 Storage</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#32-disk-oriented-dbms-overview>3.2 Disk-Oriented DBMS Overview</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#33-dbms-vs-os>3.3 DBMS vs OS</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#34-file-storage>3.4 File Storage</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#35-database-pages>3.5 Database Pages</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#36-database-heap>3.6 Database Heap</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#37-page-layout>3.7 Page Layout</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#38-tuple-layout>3.8 Tuple Layout</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#39-log-structured-storage>3.9 Log-Structured Storage</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#311-data-representation>3.11 Data Representation</a></li></ul><ul><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#51-database-workloads>5.1 Database Workloads</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#52-storage-models>5.2 Storage Models</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#n-ary-storage-model-nsm>N-Ary Storage Model (NSM)</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#decomposition-%e5%88%86%e8%a7%a3-storage-model-dsm>Decomposition 分解 Storage Model (DSM)</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#53-database-compression>5.3 Database Compression</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#compression-granularity>Compression Granularity</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#54-naive-compression>5.4 Naive Compression</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#55-columnar-compression-%e6%9f%b1%e7%8a%b6%e5%8e%8b%e7%bc%a9>5.5 Columnar Compression 柱状压缩**</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#run-length-encoding>Run-length Encoding</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#bit-packing-encoding>Bit-Packing Encoding</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#bitmap-encoding>Bitmap Encoding</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#delta-encoding>Delta Encoding</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#incremental-encoding>Incremental Encoding</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#dictionary-encoding>Dictionary Encoding</a></li></ul><ul><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#question-1-storage-models>Question 1: Storage Models</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#a-suppose-the-dbms-uses-the-decomposition-storage-model-dsm-with-implicit-offsets>(a) Suppose the DBMS uses the decomposition storage model (DSM) with implicit offsets</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#bsuppose-the-dbms-uses-the-n-ary-storage-model-nsm>(b)Suppose the DBMS uses the N-ary storage model (NSM)</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#question-2-cuckoo-hashing>Question 2: Cuckoo Hashing</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#question-3-extendible-hashing>Question 3: Extendible Hashing</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#a-starting-from-an-empty-table-insert-keys-15-14-23-11-9>(a) Starting from an empty table, insert keys 15, 14, 23, 11, 9.</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#b-starting-from-the-result-in-a-you-insert-keys-12-5-7-13-2>(b) Starting from the result in (a), you insert keys 12, 5, 7, 13, 2.</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#c-now-consider-the-table-below-along-with-the-following-deletion-rules>(c) Now consider the table below, along with the following deletion rules:</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#question-4-btree>Question 4: B+Tree</a></li></ul><ul><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#lru-k>LRU-K</a></li></ul><ul><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#%e6%a6%82%e8%bf%b0>概述</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#task-1---btree-pages>Task #1 - B+Tree Pages</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#btree-parent-page>B+Tree Parent Page</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#btree-internal-page>B+Tree Internal Page</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#btree-leaf-page>B+Tree Leaf Page</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#task-2---btree-data-structure>Task #2 - B+Tree Data Structure</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="font-semibold inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#checkpoint-1%e6%9f%a5%e6%89%be%e6%8f%92%e5%85%a5%e5%92%8c%e5%88%a0%e9%99%a4>Checkpoint 1：查找，插入和删除</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#%e7%ba%a6%e5%ae%9a>约定</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#%e6%9f%a5%e6%89%be>查找</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#%e6%8f%92%e5%85%a5%e5%8f%b6%e5%ad%90%e8%8a%82%e7%82%b9>插入(叶子节点)</a></li><li class="my-2 scroll-my-6 scroll-py-6"><a class="pl-4 rtl:pr-4 inline-block text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300 w-full break-words" href=#%e5%88%a0%e9%99%a4>删除</a></li></ul><div class="mt-8 border-t dark:border-neutral-700 pt-8 sticky bottom-0 flex flex-col items-start gap-2 pb-8"><a class="text-xs font-medium text-gray-500 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-100 contrast-more:text-gray-800 contrast-more:dark:text-gray-50" href=https://github.com/ysyyhhh/hugo-blox-doc/edit/main/starters/documentation/content/post/public-course/cmu-15445/cmu15-445/index.md target=_blank rel=noreferer>Edit this page</a></div></div></nav><article class="w-full break-words flex min-h-[calc(100vh-var(--navbar-height))] min-w-0 justify-center pb-8 pr-[calc(env(safe-area-inset-right)-1.5rem)]"><main class="w-full min-w-0 max-w-6xl px-6 pt-4 md:px-12"><h1 class="mt-2 text-4xl font-bold tracking-tight text-slate-900 dark:text-slate-100">P0 [C++ Primer](https://15445.courses.cs.cmu.edu/fall2022/project0/)</h1><div class="mt-4 mb-16 text-gray-500 dark:text-gray-300 text-sm flex items-center flex-wrap gap-y-2"><span class=mr-1>Mar 1, 2024</span>
<span class=mx-1>·</span>
<span class=mx-1>23 min read</span></div><div class="prose prose-slate lg:prose-xl dark:prose-invert"><h1 id=l1-relational-model--relational-algebra>L1 Relational Model & Relational Algebra</h1><h2 id=11-databases>1.1 Databases</h2><p>数据库：an organized collection of inter-related data that models some aspect of the real-world</p><p>数据库管理系统 DBMS：the software that manages a database</p><h2 id=12-flat-file-strawman>1.2 Flat File Strawman</h2><p>数据库常常以CSV(comma-separated value)文件的形式存储，由DBMS进行管理。每次应用程序要读取或者更新记录时，都必须解析文件(parse files)。</p><h2 id=13-database-management-system>1.3 Database Management System</h2><ul><li>A general-purpose(通用) <strong>DBMS</strong> is designed to allow the definition, creation, querying, update, and administration of databases in accordance with some <strong>data model</strong>.</li><li>A <strong>data model</strong> is a collection of concepts for describing the data in database<ul><li>Examples: <strong>relational</strong> (most common), NoSQL (<strong>key/value</strong>, graph), array/matrix/vectors</li></ul></li><li>A <strong>schema</strong>(模式) is a description of a particular collection of data based on a <strong>data model</strong></li></ul><p>早期，数据库应用很难建立和维护，因为逻辑层和物理层之间存在着紧密的耦合。</p><ul><li>逻辑层： 描述了数据库有哪些实体和属性。</li><li>物理层： 是这些实体和属性的存储方式。</li></ul><p>所以早期的数据库，一旦改变了物理层，逻辑层也得跟着变。</p><h2 id=14-relational-model>1.4 Relational Model</h2><p>人们每次改变物理层都要重新写数据管理系统，故Ted Codd注意到后提出了关系模型。</p><p>The relational model defines a database abstraction based on relations to avoid <strong>maintenance overhead</strong>(维护开销).</p><p>三要点:</p><ul><li>Store database in simple data structures (relations).</li><li>Access data through high-level language, DBMS <strong>figures out</strong>(找出) best execution strategy.</li><li>Physical storage <strong>left up to</strong>(取决于) the DBMS implementation.</li></ul><p>三概念</p><p>The relational data model defines three concepts:</p><ul><li>Structure: The definition of relations and their contents. This is the attributes the relations have and the values that those attributes can hold.</li><li><strong>Integrity</strong>(完整性): Ensure the database’s contents satisfy constraints.<ul><li>实体完整性 entity integrity:主属性不能为空</li><li>参照完整性 referential integrity: 外键的值必须存在</li><li>用户定义的完整性<ul><li>An example constraint would be that any value for the year attribute has to be a number.</li></ul></li></ul></li><li>Manipulation: How to access and modify a database’s contents.</li></ul><p>关系:</p><p><strong>A relation</strong> is an <strong>unordered</strong> set that contains the relationship of attributes that represent entities. So the DBMS can store them in any way it wants, allowing for <strong>optimization</strong>(允许优化).</p><p>元组:</p><p><strong>A tuple</strong> is a set of <strong>attribute values</strong> (also known as its <strong>domain</strong> 域 一组相同数据类型的值的集合) in the relation. <strong>Originally</strong>, values had to be atomic or scalar(标量), but <strong>now</strong> values can also be lists or <strong>nested</strong>(嵌套) data structures. Every attribute can be a special value, <strong>NULL</strong>, which means for a given tuple the attribute is <strong>undefined</strong>.</p><p>关系:</p><p><strong>A relation</strong> with n attributes is called <strong>an n-ary relation</strong>.</p><p>键</p><p><strong>A relation’s primary key</strong> uniquely identifies a single tuple.</p><ul><li>Some DBMSs automatically create an internal primary key if you do not define one.</li><li>A lot of DBMSs have support for autogenerated keys so an application does not have to <strong>manually increment</strong>(手动增加) the keys, but a primary key is still required for some DBMSs.</li></ul><p><strong>A foreign key</strong> specifies that an attribute from one relation has to map to a tuple in another relation.</p><h2 id=15-data-manipulation-languages-dmls>1.5 Data Manipulation Languages (DMLs)</h2><p>Methods to store and retrieve information from a database.</p><p>There are two classes of languages for this:</p><ul><li><strong>Procedural</strong>(程序上的): The query <strong>specifies the (high-level) strategy</strong> the DBMS should use to find <strong>the desired result based on sets / bags.</strong> (relational <strong>algebra</strong> 代数)</li><li>Non-Procedural (<strong>Declarative</strong> 声明): The query specifies only what data is wanted and not how to find it. (relational <strong>calculus</strong> 微积分/关系演算)</li></ul><p>一般现在都是用第二种的，我不管DBMS用什么<strong>策略</strong>，我只需要你给我我想要的数据。</p><h2 id=16-relational-algebra-关系代数>1.6 Relational Algebra 关系代数</h2><p><strong>Relational Algebra</strong> is a set of fundamental operations to <strong>retrieve</strong>(检索) and manipulate tuples in a relation.</p><p>Each operator <strong>takes in</strong>(需要) one or more relations as inputs, and outputs a new relation. To write queries we can “<strong>chain</strong>(链)” these operators together to create more complex operations.</p><p>5种基本<strong>关系操作</strong></p><ul><li>选择,投影,并,差,笛卡儿积</li></ul><p>传统<strong>集合运算</strong></p><ul><li>二目运算: 并,差,交,笛卡尔积</li></ul><p>专门的<strong>关系运算</strong></p><ul><li>选择selection ,投影projection,连接 join,除 dividen</li></ul><p>选择:在<strong>关系R</strong>中,选择符合条件的<strong>元组</strong>,是从行的角度进行运算.</p><p>投影:在<strong>关系R</strong>中,选择出<strong>若干属性列</strong>组成新的关系,从列的角度</p><p>连接:两个关系的<strong>笛卡尔积</strong>中,选取属性中满足一定条件的元组</p><ul><li>自然连接 内连接: 不保留悬浮元组.</li><li>外连接 outer join : 保留<strong>悬浮元组</strong>(填NULL)的连接</li><li>左连接 left outer join: 只保留<strong>左边关系R</strong>中的悬浮空组.</li><li>右连接 right outer join: 只保留<strong>右边关系R</strong>中的悬浮空组.</li></ul><p>除: R除以S得到T, 则T包含所有<strong>在R而不在S</strong>的<strong>属性及其值</strong>. 且T和S的所有组合都在R中.</p><h1 id=l2-modern-sql>L2 Modern SQL</h1><h2 id=21-relation-languages>2.1 Relation Languages</h2><p>用户只需要使用声明性语言（即SQL）来指定他们想要的结果。DBMS 负责确定产生该答案的最有效计划。</p><p>关系代数基于 sets (unordered, no duplicates)。 SQL基于 bags (unordered, allows duplicates)</p><h2 id=22-sql-history>2.2 SQL History</h2><ul><li><p>SEQUEL Structured English Query Language</p><p>SQL Structured Query Language</p></li><li><p>该语言由不同类别的命令组成：</p><ul><li><strong>DML</strong> Data Manipulation Language <code>SELECT, INSERT, UPDATE, DELETE</code></li><li><strong>DDL</strong> Data Definition Language Schema definitions for tables, indexes, views, and other objects.</li><li><strong>DCL</strong> Data Control Language Security, access controls.</li></ul></li><li><p>SQL仍在不断发展的</p></li></ul><h2 id=23-join>2.3 Join</h2><p>结合一个或多个表的列，产生一个新的表。用来表达涉及跨越多个表的数据的查询</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>CREATE TABLE student (
</span></span><span class=line><span class=cl>    sid INT PRIMARY KEY,
</span></span><span class=line><span class=cl>    name VARCHAR(16),
</span></span><span class=line><span class=cl>    login VARCHAR(32) UNIQUE,
</span></span><span class=line><span class=cl>    age SMALLINT,
</span></span><span class=line><span class=cl>    gpa FLOAT
</span></span><span class=line><span class=cl>);
</span></span><span class=line><span class=cl>CREATE TABLE course (
</span></span><span class=line><span class=cl>    cid VARCHAR(32) PRIMARY KEY,
</span></span><span class=line><span class=cl>    name VARCHAR(32) NOT NULL
</span></span><span class=line><span class=cl>);
</span></span><span class=line><span class=cl>CREATE TABLE enrolled (
</span></span><span class=line><span class=cl>    sid INT REFERENCES student (sid),
</span></span><span class=line><span class=cl>    cid VARCHAR(32) REFERENCES course (cid),
</span></span><span class=line><span class=cl>    grade CHAR(1)
</span></span><span class=line><span class=cl>);
</span></span><span class=line><span class=cl>找出在15-721拿到A的学术
</span></span><span class=line><span class=cl>SELECT s.name
</span></span><span class=line><span class=cl>FROM enrolled AS e, student AS s
</span></span><span class=line><span class=cl>WHERE e.grade = &#39;A&#39; AND e.cid = &#39;15-721&#39;
</span></span><span class=line><span class=cl>AND e.sid = s.sid;
</span></span></code></pre></div><h2 id=24-aggregates-聚合函数>2.4 Aggregates 聚合函数</h2><p>聚合函数接受一组列表，然后产生一个单一的标量值作为其输出。基本上只能在SELECT输出列表中使用！</p><p>函数：</p><ul><li><code>AVG</code></li><li><code>MIN</code></li><li><code>MAX</code></li><li><code>COUNT</code></li></ul><p>当使用goup时,聚合函数输出为每个组的输出.</p><p>having 在聚合计算的基础过滤输出结果.而不是where</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT AVG(s.gpa) AS avg_gpa, e.cid
</span></span><span class=line><span class=cl>FROM enrolled AS e, student AS s
</span></span><span class=line><span class=cl>WHERE e.sid = s.sid
</span></span><span class=line><span class=cl>GROUP BY e.cid
</span></span><span class=line><span class=cl>HAVING avg_gpa &gt; 3.9;
</span></span></code></pre></div><h2 id=25-sting-operation>2.5 Sting Operation</h2><p><strong>SQL标准</strong>是<strong>区分大小写</strong>的，而且只能是<strong>单引号</strong>！有一些函数可以处理字符串，可以在查询的任何部分使用。</p><ul><li><p><strong>Pattern Matching</strong>:</p><p>Like 关键字</p><ul><li><code>%</code> : matches any substrings (including empty).</li><li><code>_</code> : matches any one character</li></ul></li><li><p><strong>String Function:</strong> <code>SUBSTRING(S, B, E)</code> <code>UPPER(S)</code></p></li><li><p><strong>Concatenation</strong>(连接) : <code>||</code> concatenate two or more strings together into a single string</p></li></ul><h2 id=26-date-and-time>2.6 Date and Time</h2><ul><li><p>时间函数</p><ul><li>当前日期时间 <code>NOW()</code>, <code>CURRENT_TIMESTAMP()</code></li><li>当前UNIX时间戳 <code>UNIX_TIMESTAMP()</code></li><li>当前日期 <code>CURRENT_DATE()</code></li><li>当前时间 <code>CURRENT_TIME()</code></li></ul></li><li><p>日期时间转换函数</p><ul><li>当前时间戳转换为北京时间 <code>FROM_UNIXTIME()</code></li><li>北京时间转换为时间戳 <code>UNIX_TIMESTAMP()</code></li><li>时间中解析年月日时间 <code>DATE_FORMAT(date, format)</code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>select DATE_FORMAT(&#39;2021-01-01 08:30:50&#39;,&#39;%Y-%m-%d&#39;)
</span></span></code></pre></div></li><li><p>日期时间运算函数</p><ol><li><p>在某个时间的基础上加上或者减去某个时间 <code>DATE_ADD(date,INTERVAL expr unit)</code> <code>DATE_SUB(date,INTERVAL expr unit)</code></p></li><li><p>返回两个日期值之间的天数 <code>DATEDIFF(expr1,expr2))</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>select DATEDIFF(&#39;2021-01-02&#39;,&#39;2021-01-01&#39;)
</span></span></code></pre></div></li><li><p>时间差函数 <code>TIMESTAMPDIFF(unit,datetime_expr1,datetime_expr2)</code></p><p>unit：天(DAY)、小时(HOUR），分钟(MINUTE)和秒(SECOND)，TIMESTAMPDIFF函数比DATEDIFF函数用起来更加灵活</p></li></ol></li></ul><h2 id=27-output-redirection>2.7 Output Redirection</h2><p>你可以告诉DBMS将查询结果存储到另一个表中，而不是将查询结果返回给客户端（例如，终端）。结果存储到另一个表中。然后你可以在随后的查询中访问这些数据</p><ul><li><p>New Table: 将查询的输出存储到一个新的（永久）表中。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT DISTINCT cid INTO CourseIds FROM enrolled;
</span></span></code></pre></div></li><li><p>Exustubg Table:</p><p>将<strong>查询的输出存储到数据库中已经存在的表</strong>中。该表 目标表必须有与目标表相同数量和相同类型的列，但输出查询中的列名不需要匹配。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>INSERT INTO CourseIds (SELECT DISTINCT cid FROM enrolled)
</span></span></code></pre></div></li></ul><h2 id=28-output-control>2.8 Output Control</h2><p>可以用ORDER BY来对输出进行排序,后面可以加<code>DESC</code>, <code>ASC</code>来指定排序策略</p><p>输出的数量可以用<code>LIMIT n</code> 进行指定,当然也可以用<code>OFFSET</code> 来提供一个bias。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ELECT sid, grade FROM enrolled WHERE cid = &#39;15-721&#39;
</span></span><span class=line><span class=cl>ORDER BY grade;
</span></span><span class=line><span class=cl>SELECT sid, name FROM student WHERE login LIKE &#39;%@cs&#39;
</span></span><span class=line><span class=cl>LIMIT 20 OFFSET 10;
</span></span></code></pre></div><h2 id=29-nested-queries>2.9 Nested Queries</h2><p>在其他查询中调用查询，在单个查询中执行更复杂的逻辑。嵌套查询往往难以优化。</p><p>外部查询的范围包括在内部查询中（即<strong>内部查询可以访问来自外部查询</strong>），反之不行。</p><ul><li><p>内部查询几乎可以出现在一个查询的任何部分。</p><ol><li><p><code>SELECT</code> Output Targets</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT (SELECT 1) AS one FROM student;
</span></span></code></pre></div></li><li><p><code>FROM</code> <strong>Clause</strong>(条件):</p></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT name
</span></span><span class=line><span class=cl>    FROM student AS s, (SELECT sid FROM enrolled) AS e
</span></span><span class=line><span class=cl>    WHERE s.sid = e.sid;
</span></span></code></pre></div><ol start=3><li><code>WHERE</code> Clause</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT name FROM student
</span></span><span class=line><span class=cl>	WHERE sid IN ( SELECT sid FROM enrolled );
</span></span></code></pre></div><ul><li>例子： 获取在15-445中注册的学生名字</li></ul></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT name FROM student
</span></span><span class=line><span class=cl>    WHERE sid IN (
</span></span><span class=line><span class=cl>        SELECT sid FROM enrolled
</span></span><span class=line><span class=cl>        WHERE cid = &#39;15-445&#39;
</span></span><span class=line><span class=cl>);
</span></span></code></pre></div><p>请注意，根据它在查询中出现的位置，sid有不同的范围。</p><ul><li><p>例子： 找到注册了至少一门课的最大的学生id</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT student.sid, name
</span></span><span class=line><span class=cl>    FROM student
</span></span><span class=line><span class=cl>    JOIN (SELECT MAX(sid) AS sid
</span></span><span class=line><span class=cl>        FROM enrolled) AS max_e
</span></span><span class=line><span class=cl>    ON student.sid = max_e.sid;
</span></span></code></pre></div></li></ul><h3 id=nested-query-results-expressions>Nested Query Results Expressions:</h3><ul><li><p>关键字：</p><ul><li><code>ALL</code> Must satisfy expression for all rows in sub-query</li><li><code>ANY</code> Must satisfy expression for at least one row in sub-query.</li><li><code>IN</code> Equivalent to =ANY().</li><li><code>EXISTS</code> At least one row is returned.</li></ul></li><li><p>例子： 找到所有没有学生注册的课</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT * FROM course
</span></span><span class=line><span class=cl>    WHERE NOT EXISTS(
</span></span><span class=line><span class=cl>        SELECT * FROM enrolled
</span></span><span class=line><span class=cl>        WHERE course.cid = enrolled.cid
</span></span><span class=line><span class=cl>);
</span></span></code></pre></div></li></ul><h2 id=210-window-functions>2.10 Window Functions</h2><ul><li><p>函数： 窗口函数可以是我们上面讨论的任何一个聚合函数。也有一些特殊的窗口函数。</p><ol><li><code>ROW_NUMBER</code>: 当前列的数字</li><li><code>RANK</code>: 当前列的顺序</li></ol></li><li><p>Grouping: <strong>OVER子句指定了在计算窗口函数时如何对图元进行分组</strong>。使用<strong>PARTITION BY</strong>来指定分组</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT cid, sid, ROW_NUMBER() OVER (PARTITION BY cid)
</span></span><span class=line><span class=cl>	FROM enrolled ORDER BY cid;
</span></span></code></pre></div><p>我们也可以在OVER中放入ORDER BY，以确保结果的确定性排序，即使数据库内部发生变化。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT *, ROW_NUMBER() OVER (ORDER BY cid)
</span></span><span class=line><span class=cl>	FROM enrolled ORDER BY cid;
</span></span></code></pre></div></li><li><p><strong>重要提示：</strong></p></li><li><p>DBMS在窗函数排序后计算<code>RANK</code>，而在排序前计算<code>ROW_NUMBER</code>。</p><ul><li><p>找到每门课程中成绩第二高的学生</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT * FROM (
</span></span><span class=line><span class=cl>    SELECT *, RANK() OVER (PARTITION BY cid
</span></span><span class=line><span class=cl>        ORDER BY grade ASC) AS rank
</span></span><span class=line><span class=cl>    FROM enrolled) AS ranking
</span></span><span class=line><span class=cl>WHERE ranking.rank = 2;
</span></span></code></pre></div></li></ul></li></ul><h2 id=211-commom-table-expressions>2.11. Commom Table Expressions</h2><p>在编写更复杂的查询时，通用表表达式（CTE）是窗口或嵌套查询的一种替代方法。复杂的查询时，可以替代窗口或嵌套查询。它们提供了一种方法来为用户在一个更大的查询中编写辅助语句.</p><p>可以理解为一个辅助表。</p><p><code>WITH</code>子句将内部查询的输出与一个具有该名称的临时结果绑定。</p><ul><li><p>例子： 生成一个名为cteName的CTE，其中包含一个单一属性设置为 &ldquo;1 &ldquo;的元组。从这个CTE中选择所有属性。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>WITH cteName AS (
</span></span><span class=line><span class=cl>	SELECT 1
</span></span><span class=line><span class=cl>)
</span></span><span class=line><span class=cl>SELECT * FROM cteName;
</span></span></code></pre></div><p>我们可以在AS之前将输出列绑定到名称上</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>WITH cteName (col1, col2) AS (
</span></span><span class=line><span class=cl>	SELECT 1, 2
</span></span><span class=line><span class=cl>)
</span></span><span class=line><span class=cl>SELECT col1 + col2 FROM cteName;
</span></span></code></pre></div><p>一个查询可能包含多个CTE声明</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>WITH cte1 (col1) AS (SELECT 1), cte2 (col2) AS (SELECT 2)
</span></span><span class=line><span class=cl>SELECT * FROM cte1, cte2;
</span></span></code></pre></div></li><li><p>递归能力 在WITH后面<strong>添加RECURSIVE关键字</strong>允许CTE引用自己。这使得在SQL查询中可以实现递归。有了递归的CTE，SQL被证明是图灵完备的，这意味着它在计算上的表现力不亚于更多的通用编程语言</p></li><li><p>例子：打印从1到10的数字</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>WITH RECURSIVE cteSource (counter) AS (
</span></span><span class=line><span class=cl>    ( SELECT 1 )
</span></span><span class=line><span class=cl>    UNION
</span></span><span class=line><span class=cl>    ( SELECT counter + 1 FROM cteSource
</span></span><span class=line><span class=cl>    	WHERE counter &lt; 10 )
</span></span><span class=line><span class=cl>)
</span></span><span class=line><span class=cl>SELECT * FROM cteSource;
</span></span></code></pre></div></li></ul><h1 id=homework-1---sql>Homework #1 - SQL</h1><p>CASE 语句</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT name,
</span></span><span class=line><span class=cl>   CASE 
</span></span><span class=line><span class=cl>       when died is not null
</span></span><span class=line><span class=cl>       then died-born 
</span></span><span class=line><span class=cl>       else &#39;2022&#39; - born
</span></span><span class=line><span class=cl>   END as age
</span></span><span class=line><span class=cl>FROM people
</span></span><span class=line><span class=cl>where born &gt;= &#39;1900&#39;
</span></span><span class=line><span class=cl>ORDER by age DESC,name 
</span></span><span class=line><span class=cl>LIMIT 20;
</span></span></code></pre></div><p>CAST AS TEXT 转换成字符串，字符串连接用 ||</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>select 
</span></span><span class=line><span class=cl>CAST(titles.premiered/10*10 AS TEXT)  || &#39;s&#39; as decade,
</span></span><span class=line><span class=cl>round(avg(rating),2) as avg,
</span></span><span class=line><span class=cl>max(rating) as top,
</span></span><span class=line><span class=cl>min(rating) as min,
</span></span><span class=line><span class=cl>count(*) as NUM_RELEASES
</span></span><span class=line><span class=cl>from ratings
</span></span><span class=line><span class=cl>join titles on titles.title_id = ratings.title_id
</span></span><span class=line><span class=cl>where decade is not null
</span></span><span class=line><span class=cl>GROUP by decade
</span></span><span class=line><span class=cl>order by avg DESC,decade
</span></span><span class=line><span class=cl>limit 20;
</span></span></code></pre></div><p>第一个with后，用,隔开</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>with person_title as (
</span></span><span class=line><span class=cl>    select people.name,
</span></span><span class=line><span class=cl>    people.person_id,
</span></span><span class=line><span class=cl>    crew.title_id
</span></span><span class=line><span class=cl>    from people
</span></span><span class=line><span class=cl>    join crew on crew.person_id = people.person_id
</span></span><span class=line><span class=cl>    join titles on titles.title_id = crew.title_id
</span></span><span class=line><span class=cl>    where born = 1955 and titles.type = &#34;movie&#34;
</span></span><span class=line><span class=cl>),
</span></span><span class=line><span class=cl>person_avg as (
</span></span><span class=line><span class=cl>    select person_title.name,round(avg(rating),2) as avg
</span></span><span class=line><span class=cl>    from RATINGS
</span></span><span class=line><span class=cl>    join person_title on person_title.title_id = ratings.title_id
</span></span><span class=line><span class=cl>    group by person_title.person_id
</span></span><span class=line><span class=cl>),
</span></span><span class=line><span class=cl>quantiles as (
</span></span><span class=line><span class=cl>    select * ,NTILE(10) OVER (ORDER BY avg ASC) as QuantileRating from person_avg
</span></span><span class=line><span class=cl>)
</span></span><span class=line><span class=cl>select 
</span></span><span class=line><span class=cl>name,avg
</span></span><span class=line><span class=cl>from quantiles
</span></span><span class=line><span class=cl>where QuantileRating = 9
</span></span><span class=line><span class=cl>order by avg DESC,name;
</span></span></code></pre></div><p>把表格数据压缩成一行，用，隔开</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>with p as(
</span></span><span class=line><span class=cl>    select akas.title as dubbed
</span></span><span class=line><span class=cl>    from titles
</span></span><span class=line><span class=cl>    join akas on akas.title_id = titles.title_id
</span></span><span class=line><span class=cl>    where primary_title = &#34;House of the Dragon&#34; and type = &#34;tvSeries&#34;
</span></span><span class=line><span class=cl>    group by primary_title,dubbed
</span></span><span class=line><span class=cl>    order by dubbed
</span></span><span class=line><span class=cl>)
</span></span><span class=line><span class=cl>select GROUP_CONCAT(dubbed,&#39;, &#39;) from p;
</span></span></code></pre></div><h1 id=l3--4database-storage>L3 -4Database Storage</h1><h2 id=31-storage>3.1 Storage</h2><p>The DBMS assumes that the primary storage location of the database is on non-volatile disk.</p><p>The DBMS&rsquo;s components manage the movement of data between non-volatile and volatile storage.</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222153223421 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222153223421_hud22ed9fb7e05b813d6f8ec53aae116f9_88815_5cb0075bf1c94b9519597682f898623e.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222153223421_hud22ed9fb7e05b813d6f8ec53aae116f9_88815_25d36e1da19b804aeaf0d87a056222ff.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222153223421_hud22ed9fb7e05b813d6f8ec53aae116f9_88815_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222153223421_hud22ed9fb7e05b813d6f8ec53aae116f9_88815_5cb0075bf1c94b9519597682f898623e.webp width=760 height=456 loading=lazy data-zoomable></div></div></figure></p><p>Volatile Devices:</p><ul><li>Volatile means that if you pull the power from the machine, then the data is lost.</li><li>Volatile storage supports fast <strong>random access</strong> with byte-addressable locations. This means that the program can jump to any byte address and get the data that is there.</li><li>For our purposes, we will always refer to this storage class as “memory.”</li></ul><p>Non-Volatile Devices:</p><ul><li>Non-volatile means that the storage device does not require continuous power in order for the device to retain the bits that it is storing.</li><li>It is also block/page addressable. This means that <strong>in order to read a value at a particular offset</strong>, the program <strong>first has to load the 4 KB page into memory</strong> that holds the value the program wants to read.</li><li>Non-volatile storage is <strong>traditionally better at sequential access</strong> (reading multiple contiguous chunks of data at the same time).</li><li>We will refer to this as “disk.” We will not make a (major) distinction between solid-state storage (SSD) and spinning hard drives (HDD).</li></ul><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222153508116 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222153508116_hu2bfa840c291ed983668d96ded6216345_109474_09dd1725ed7f8adc8264af1eee03297d.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222153508116_hu2bfa840c291ed983668d96ded6216345_109474_86de3de50577edcb256e34e8562b58cb.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222153508116_hu2bfa840c291ed983668d96ded6216345_109474_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222153508116_hu2bfa840c291ed983668d96ded6216345_109474_09dd1725ed7f8adc8264af1eee03297d.webp width=746 height=467 loading=lazy data-zoomable></div></div></figure></p><h2 id=32-disk-oriented-dbms-overview>3.2 Disk-Oriented DBMS Overview</h2><p>The database is <strong>all on disk</strong>, and the data in database files is organized into pages, with the first page being the directory page.</p><p>To operate on the data, the DBMS needs to bring the data into memory. It does this by <strong>having a buffer pool</strong> that <strong>manages the data movement back and forth</strong> between disk and memory</p><p>The DBMS also has an <strong>execution engine</strong> that will execute queries. The execution engine will <strong>ask the buffer pool for a specific page</strong>, and the buffer pool will take care of bringing that page into memory and <strong>giving the execution engine a pointer</strong> to that page in memory.</p><p>The buffer pool manager will <strong>ensure</strong> that <strong>the page is there while the execution engine operates on that part of memory</strong>.</p><h2 id=33-dbms-vs-os>3.3 DBMS vs OS</h2><ul><li>DBMS的一个<strong>高级设计目标是支持超过可用内存量</strong>的数据库。因为访问disk的代价很大，所以使用disk应该要小心。我们不希望从磁盘上访问数据时停顿太久，从而拖慢其他一切。我们希望DBMS能够处理在等待从磁盘获取数据时，能够处理其他查询。</li><li>这个高层次的设计目标就像虚拟内存一样，有一个大的地址空间和一个供操作系统从磁盘引入页面的地方。</li><li>实现这种虚拟内存的方法之一是使用mmap来映射进程地址空间中的文件内容，这使得操作系统负责在磁盘和内存之间来回移动页面。 但不幸的是，如果<strong>mmap遇到页面故障，进程将会被阻塞</strong>。<ul><li>如果你需要写入，你永远不想在你的DBMS中使用mmap。</li><li>DBMS（几乎）总是想自己控制事情，而且可以做得更好，因为它知道更多关于被访问的数据和被处理的查询。</li></ul></li><li>可以通过使用操作系统：<ul><li><code>madvise</code>: 告诉操作系统你打算何时读某些页面。</li><li><code>mlock</code>: 告诉操作系统不要把内存范围换到磁盘上。</li><li><code>msync</code>: 告诉操作系统将内存范围刷新到磁盘。</li></ul></li></ul><p><strong>出于正确性和性能的考虑，我们不建议在DBMS中使用</strong><code>mmap</code>。</p><h2 id=34-file-storage>3.4 File Storage</h2><ul><li>在其最基本的形式中，DBMS将<strong>数据库存储为磁盘上的文件</strong>。有些可能使用文件层次结构，有些则可能使用单个文件</li><li>操作系统对这些文件的内容一无所知。<strong>只有DBMS知道如何解读它们的内容</strong>，因为它是以DBMS特有的方式编码的。</li><li>DBMS的存储管理器负责管理数据库的文件。它将文件表示为一个 页的集合。它还跟踪哪些数据被读和写到了页面上，以及这些页面有多少可用空间。这些页面中还有多少可用空间。</li></ul><h2 id=35-database-pages>3.5 Database Pages</h2><ul><li>DBMS将数据库组织在<strong>一个或多个文件中的固定大小的数据块</strong>，称为页。页面可以包含不同种类的数据（tuple、indexes等）。</li></ul><blockquote><ul><li>大多数系统不会将这些类型混合在一页中。 有些系统会要求页面是自成一体（self-contained）的，也就是说，阅读每个页面所需的所有信息都在页面本身。读取每一页的所有信息都在页面本身</li></ul></blockquote><ul><li>Each page is given a unique identifier.<ul><li>The DBMS uses an indirection layer to map page IDs to physical locations.</li></ul></li></ul><p>There are three different <strong>notions</strong> of &ldquo;pages&rdquo; in a DBMS:</p><ul><li>Hardware Page (usually 4KB)</li><li>OS Page (usually 4KB)</li><li>Database Page (512B-16KB)</li></ul><p>存储设备保证写的操作是atomic 原子的。 这意味着，如果我们的数据库页面比我们的硬件页面大，DBMS将不得不采取额外的措施 以确保数据被安全地写出来。 因为当系统崩溃时，程序可能已经完成了将数据库页面写入磁盘的一部分</p><p>Different DBMSs manage pages in files on disk in different ways.</p><ul><li>Heap File Organization</li><li>Tree File Organization</li><li>Sequential / Sorted File Organization (ISAM)</li><li>Hashing File Organization</li></ul><p>At this point in the <strong>hierarchy</strong>(层次结构) we don&rsquo;t need to know anything about what is inside of the pages.</p><h2 id=36-database-heap>3.6 Database Heap</h2><p>A <strong>heap file</strong> is an <strong>unordered</strong> collection of pages with tuples that are stored in random order.</p><ul><li>Create / Get / Write / Delete Page</li><li>Must also support iterating over all pages.</li></ul><p>DBMS可以通过使用页面的链接列表或页面目录在磁盘上找到一个给定的页面ID</p><ol><li><p>Linked List: Header page持有指向自由页列表和数据页列表的指针。然而，如果 DBMS正在寻找一个特定的页面，它必须在数据页列表上进行顺序扫描，直到它找到它要找的页面。</p></li><li><p>Page Directory:</p><p>DBMS维护特殊的页面，跟踪数据页的位置以及每页的可用空间。</p></li></ol><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222155657027 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222155657027_hue6ceeb2c876f7e8bb9567dc43df03885_128348_19e1f258c1eaffbced6c82db8733249f.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222155657027_hue6ceeb2c876f7e8bb9567dc43df03885_128348_c485bf2a46a3ac3c1a373535423f72ae.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222155657027_hue6ceeb2c876f7e8bb9567dc43df03885_128348_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222155657027_hue6ceeb2c876f7e8bb9567dc43df03885_128348_19e1f258c1eaffbced6c82db8733249f.webp width=760 height=413 loading=lazy data-zoomable></div></div></figure></p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222155526907 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222155526907_hu2514056af22ca82486386cbb9fdb114c_40697_179a9702190fbffc038bb147ea6b13d3.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222155526907_hu2514056af22ca82486386cbb9fdb114c_40697_3a0493d5dbdbc9057477b0943ccd7e23.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222155526907_hu2514056af22ca82486386cbb9fdb114c_40697_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222155526907_hu2514056af22ca82486386cbb9fdb114c_40697_179a9702190fbffc038bb147ea6b13d3.webp width=760 height=214 loading=lazy data-zoomable></div></div></figure></p><p>Need <strong>meta-data</strong> to keep track of what pages exist in multiple files and which ones have free space.</p><h2 id=37-page-layout>3.7 Page Layout</h2><ul><li>每个页面都包括一个header，记录关于页面内容的元数据。<ul><li>Page size</li><li>Checksum</li><li>DBMS version</li><li>Transaction visibility</li><li>Self-containment(自成一体) (Some systems like Oracle require this.)</li></ul></li></ul><p>For any page storage architecture, we now need to decide <strong>how to organize the data inside of the page.</strong></p><p>We are still assuming that we are only storing <strong>tuples</strong>.</p><p>Two approaches:</p><ul><li><strong>Tuple</strong>-oriented (其实是 <strong>slotted-page</strong>)<ul><li>页面将slots映射到offsets,slot array 记录对应tuple的便宜量</li><li>Header keeps track of the number of used slots, the offset of the starting location of the last used slot, and a slot array, which keeps track of the location of the start of each tuple.</li><li>To add a tuple, the slot array will grow from the beginning to the end, and the data of the tuples will grow from end to the beginning. The page is considered full when the slot array and the tuple data meet</li></ul></li><li>Log-structured</li></ul><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222161048229 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161048229_hub44ae70f4f7c00c2718018a74f4c1d06_119403_a6fd6f2414dd48c987770212b2738c6c.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161048229_hub44ae70f4f7c00c2718018a74f4c1d06_119403_8f4f905424d552352ad3eae80f9367af.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161048229_hub44ae70f4f7c00c2718018a74f4c1d06_119403_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161048229_hub44ae70f4f7c00c2718018a74f4c1d06_119403_a6fd6f2414dd48c987770212b2738c6c.webp width=760 height=412 loading=lazy data-zoomable></div></div></figure></p><h2 id=38-tuple-layout>3.8 Tuple Layout</h2><p>tuple 内部的结构</p><p>tuples本质上是一个字节序列。DBMS的工作是将这些字节解释为属性类型和值。</p><ul><li><p>Tuple Header：包含了tuple的元数据</p><ul><li>DBMS的并发控制协议的可见性信息。关于哪个事务创建/修改了该元组</li><li>NULL值的位图。</li><li>注意，DBMS不需要在这里存储关于数据库模式的元数据。</li></ul></li><li><p>Tuple Data：数据的实际属性</p><ul><li>属性通常按照你创建表时指定的顺序存储</li><li>大多数DBMS不允许一个tuple超过一个页面的大小。</li></ul></li><li><p>Unique Identifier</p><ul><li>数据库中的每个tuple都被分配一个唯一的标识符</li><li><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222161450033 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161450033_hu3bd19195469812a461a7fa0e1b7190f8_46490_e95fc6290195b3eb2c3331929231fd6e.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161450033_hu3bd19195469812a461a7fa0e1b7190f8_46490_e384fcb96492f2d64c31cba4265d83d8.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161450033_hu3bd19195469812a461a7fa0e1b7190f8_46490_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161450033_hu3bd19195469812a461a7fa0e1b7190f8_46490_e95fc6290195b3eb2c3331929231fd6e.webp width=315 height=415 loading=lazy data-zoomable></div></div></figure></li><li>一般是：<code>page_id + (offset or slow)</code></li><li>一个应用程序<strong>不能</strong>依赖这些ID来表示任何东西</li></ul></li><li><p>De-normalized Tuple Data:</p><p>如果两个表是相关的，DBMS可以 &ldquo;pre-join"它们，所以这些表最终会出现在 在同一个页面上。这使得读取速度加快，因为DBMS只需要加载一个页面而不是两个 独立的页面。然而，这使得更新更加昂贵，因为DBMS需要更多的空间给每个 tuples</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222161346650 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161346650_hu37427914b57f6d5043c3ef126690e110_173412_a754a7e3373b1eff757670a5400a061e.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161346650_hu37427914b57f6d5043c3ef126690e110_173412_0911b0c56d26d1b17e1b5084d21fb464.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161346650_hu37427914b57f6d5043c3ef126690e110_173412_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161346650_hu37427914b57f6d5043c3ef126690e110_173412_a754a7e3373b1eff757670a5400a061e.webp width=760 height=401 loading=lazy data-zoomable></div></div></figure></p></li></ul><h2 id=39-log-structured-storage>3.9 Log-Structured Storage</h2><p>（也叫Append-only Sequence of Data） 参考: <a href=https://www.cnblogs.com/muzhongjiang/p/15151758.html target=_blank rel=noopener>Log-Structured 结构</a></p><ul><li>与Slotted-Page Design有关的问题是：<ul><li><p>Fragmentation: 删除tuple会在page中留下空隙。</p></li><li><p>Useless Disk I/O:</p><p>由于非易失性存储的block-oriented的性质，需要读取整个块来获取tuple。</p></li><li><p>Random Disk I/O: 磁盘阅读器可能不得不跳到20个不同的地方来更新20个不同的tuples，这可能会非常慢。</p></li></ul></li></ul><p>如果我们在一个<strong>只允许创建新数据而不允许覆盖</strong>的系统上工作呢？日志结构的存储模型与这个假设相配合，解决了上面列出的一些问题。</p><p><strong>Log-Structured Storage:</strong> DBMS不存储tuples，<strong>只存储日志记录</strong>。</p><ul><li>将数据库如何被修改的记录存储到文件中（放入和删除）。每条日志包含tuples的唯一标识符</li><li>要读取一条记录，DBMS会<strong>从最新的到最旧的逆向扫描日志文件</strong>，并 &ldquo;重新创建 &ldquo;这个 tuple。</li><li>写的快，读的可能慢。磁盘写入是连续的，现有的页面是不可改变的，这导致了随机磁盘I/O的减少。</li><li>在append-only的存储上工作得很好，因为DBMS不能回溯并更新数据。</li></ul><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222161821846 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161821846_hua80a0ff1847a6d1a6c9d3b75314bb106_64825_2925de20dcd852f9471f48dabd0fcb23.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161821846_hua80a0ff1847a6d1a6c9d3b75314bb106_64825_00586507062e203fe557843ecc7f1243.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161821846_hua80a0ff1847a6d1a6c9d3b75314bb106_64825_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161821846_hua80a0ff1847a6d1a6c9d3b75314bb106_64825_2925de20dcd852f9471f48dabd0fcb23.webp width=424 height=434 loading=lazy data-zoomable></div></div></figure></p><p>The log will grow forever. The DBMS needs to periodically <strong>compact</strong>(紧凑) pages to reduce wasted space.</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222161836461 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161836461_hub1621e620434fb3b865eb5d8264521d8_64617_c2cf10f301cf5187656ce3f081399858.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161836461_hub1621e620434fb3b865eb5d8264521d8_64617_bfd0edee3f66195e04817c5518a68003.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161836461_hub1621e620434fb3b865eb5d8264521d8_64617_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161836461_hub1621e620434fb3b865eb5d8264521d8_64617_c2cf10f301cf5187656ce3f081399858.webp width=760 height=276 loading=lazy data-zoomable></div></div></figure></p><ul><li>由于不再需要时间信息，数据库可以<strong>将日志压缩到一个按id排序的表</strong>中。这些被称为分类字符串表（SSTables），它们可以使tuple搜索非常快。</li></ul><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222161958064 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161958064_hu853b98a7ab66e59b808393c705129b31_31074_1b4c2521981b41a66e203eaaadb83c6b.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161958064_hu853b98a7ab66e59b808393c705129b31_31074_dad1be2109155288503ef62dd1a9cd30.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161958064_hu853b98a7ab66e59b808393c705129b31_31074_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222161958064_hu853b98a7ab66e59b808393c705129b31_31074_1b4c2521981b41a66e203eaaadb83c6b.webp width=350 height=325 loading=lazy data-zoomable></div></div></figure></p><ul><li>紧凑化的问题是，DBMS最终会出现写入放大的情况。(<strong>它一次又一次地重写相同的数据</strong>）。</li></ul><p>Compaction coalesces larger log files into smaller files by removing unnecessary records.</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222162056924 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222162056924_hu94b5ec96540e02aacf1a9c4b3c0322af_57974_acfb438b8cbb51498683bf00bf750498.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222162056924_hu94b5ec96540e02aacf1a9c4b3c0322af_57974_c3c50f7856f5ce4ae6704e9031d1a8c1.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222162056924_hu94b5ec96540e02aacf1a9c4b3c0322af_57974_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222162056924_hu94b5ec96540e02aacf1a9c4b3c0322af_57974_acfb438b8cbb51498683bf00bf750498.webp width=760 height=234 loading=lazy data-zoomable></div></div></figure></p><p>Log-structured storage managers are more common today. This is partly due to the <strong>proliferation</strong>(扩散) of RocksDB.</p><h2 id=311-data-representation>3.11 Data Representation</h2><p>A tuple is essentially a sequence of bytes.</p><p>It&rsquo;s the job of the DBMS to <strong>interpret</strong> those bytes into attribute types and values.</p><p>The DBMS&rsquo;s <strong>catalogs</strong>(目录) contain the schema information about tables(数据表示方案) that the system uses to figure out the tuple&rsquo;s layout.</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222162403262 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222162403262_hu70eda27e5caa1f7624547d63d7ed8d9b_93868_badd799e61d26959ac3480d2740cf2b7.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222162403262_hu70eda27e5caa1f7624547d63d7ed8d9b_93868_9db2e901358ffcc4e60ebb67fda9624d.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222162403262_hu70eda27e5caa1f7624547d63d7ed8d9b_93868_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222162403262_hu70eda27e5caa1f7624547d63d7ed8d9b_93868_badd799e61d26959ac3480d2740cf2b7.webp width=640 height=327 loading=lazy data-zoomable></div></div></figure></p><ul><li><strong>INTEGER, BIGINT, SMALLINT, TINYINT.</strong> (Integers)大多数DBMS使用IEEE-754标准规定的 &ldquo;native &ldquo;C/C++类型来存储整数。这些值是<strong>固定长度</strong>的。</li><li><strong>FLOAT, REAL</strong> (Variable Precision Numbers) 这些是不精确的、可变精度的数字类型, &ldquo;native &ldquo;C/C++类型,这些值也是<strong>固定长度</strong>的。<ul><li><strong>变精度数的运算比任意精度数的运算更快</strong>，因为CPU可以直接对其执行指令。然而，在进行计算时<strong>可能会出现精度损失</strong>！</li></ul></li><li><strong>NUMERIC, DECIMAL.</strong>(Fixed-Point Precision Numbers) 通常<strong>以精确的、可变长度</strong>的二进制表示法（像一个字符串）来存储.带有<strong>额外的元数据</strong>，这些数据将告诉系统诸如<strong>数据的长度和小数点应该在哪里</strong>。</li><li>当误差不可接受的时候，DBMS就要付出性能的代价来提高精度。</li></ul><p><strong>VARCHAR, VARBINARY, TEXT, BLOB</strong> Variable-Length Data</p><ul><li>代表任意长度的数据类型。它们通常是用一个header来存储的，这个header可以追踪到字符串的长度，以便于跳转到下一个值。它还可能包含一个数据的校验和。</li><li><strong>大多数DBMS不允许一个tuple超过一个页面的大小。</strong> <strong>但是！那些允许的系统将数据存储在一个特殊的 &ldquo;溢出 &ldquo;页</strong>上，并让tuple包含一个对该页的引用。这些溢出页可以包含指向其他溢出页的指针，直到所有的数据都可以被存储。(类似分级页表)</li><li>有些系统会让你把这些大的数值存储在一个外部文件中，然后元组会包含一个指向该文件的指针。例如，如果数据库存储的是照片信息，DBMS可以将照片存储在外部文件中，而不是让它们占用DBMS中的大量空间。这样做的一个缺点是，DBMS<strong>不能操作这个文件的内容</strong>。因此，No durability protections. No transaction protections.没有耐久性或交易保护。</li></ul><p><strong>TIME, DATE, TIMESTAMP.</strong> Dates and Times 不同的系统对日期/时间的表示方法不同。通常情况下，它们被表示为一些单位时间 (自unix时代的（微/毫）秒）。</p><p><strong>System Catalogs</strong></p><p>为了使DBMS能够识别tuple的内容，它维护了 INFORMATION_SCHEMA<strong>内部目录</strong>来告诉它关于数据库的元数据。<strong>元数据将包含关于数据库有哪些表和列的信息</strong>，以及它们的类型和值的顺序。</p><p>大多数DBMS将其目录以其表的格式存储在自己的内部。他们使用 特殊代码来 &ldquo;bootstrap &ldquo;这些目录表。</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222163207453 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222163207453_hu1de67d00dd19777e263b680b12012894_58781_72c0389207336ff887aa4ac718aef10b.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222163207453_hu1de67d00dd19777e263b680b12012894_58781_d8d8d09727a46772250e13fef7222bf5.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222163207453_hu1de67d00dd19777e263b680b12012894_58781_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222163207453_hu1de67d00dd19777e263b680b12012894_58781_72c0389207336ff887aa4ac718aef10b.webp width=651 height=380 loading=lazy data-zoomable></div></div></figure></p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222163222109 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222163222109_hucc8f4beb738041586f0e722c881afc7a_61914_602903fb3f3eac4fe1e67a69f5be2ced.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222163222109_hucc8f4beb738041586f0e722c881afc7a_61914_52129ab6a3c2ed22b595f15cf049d390.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222163222109_hucc8f4beb738041586f0e722c881afc7a_61914_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222163222109_hucc8f4beb738041586f0e722c881afc7a_61914_602903fb3f3eac4fe1e67a69f5be2ced.webp width=661 height=367 loading=lazy data-zoomable></div></div></figure></p><h1 id=l5-storage-models--compression>L5 Storage Models & Compression</h1><h2 id=51-database-workloads>5.1 Database Workloads</h2><p>OLTP: Online Transaction Processing</p><ul><li><p>An OLTP workload is characterized by <strong>fast, short running operations</strong>, simple queries that <strong>operate on single entity at a time</strong>, and <strong>repetitive operations</strong>.</p></li><li><p>An OLTP workload will typically handle <strong>more writes than reads</strong>.</p><blockquote><p>An example of an OLTP workload is the Amazon storefront. Users can add things to their cart, they can make purchases, but the actions only affect their account.</p></blockquote></li></ul><p>OLAP: Online Analytical Processing</p><ul><li><p>An OLAP workload is characterized by <strong>long running(长期运行), complex queries, reads on large portions</strong> of the database.</p></li><li><p>In OLAP workloads, the database system is analyzing and <strong>deriving</strong>(推导/添加) new data from existing data collected on the OLTP side.</p><blockquote><p>An example of an OLAP workload would be Amazon computing the most bought item in Pittsburgh on a day when its raining.</p></blockquote></li></ul><p>HTAP: Hybrid Transaction + Analytical Processing</p><p>A new type of workload which has become popular recently is HTAP, which is like <strong>a combination which tries to do OLTP and OLAP together</strong> on the same database.</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222165717923 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165717923_hub0e80189cc2c5cb3a5257af30c0344c9_131577_0292e6a043d9305c6b098fefcb4dc65d.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165717923_hub0e80189cc2c5cb3a5257af30c0344c9_131577_1519b8a1f5640119d79da7b248547314.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165717923_hub0e80189cc2c5cb3a5257af30c0344c9_131577_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165717923_hub0e80189cc2c5cb3a5257af30c0344c9_131577_0292e6a043d9305c6b098fefcb4dc65d.webp width=760 height=421 loading=lazy data-zoomable></div></div></figure></p><h2 id=52-storage-models>5.2 Storage Models</h2><h3 id=n-ary-storage-model-nsm>N-Ary Storage Model (NSM)</h3><p>In the n-ary storage model, the DBMS <strong>stores all of the attributes for a single tuple contiguously in a single page</strong></p><p>This approach is <strong>ideal for OLTP workloads</strong> where requests are insert-heavy and transactions tend to operate only an individual entity.</p><p>It is ideal because it takes only one fetch to be able to get all of the attributes for a single tuple.</p><p>Advantages:</p><ul><li>Fast inserts, updates, and deletes.</li><li>Good for queries that need the entire tuple.</li></ul><p>Disadvantages:</p><ul><li>Not good for <strong>scanning large portions of the table</strong> and/or <strong>a subset of the attributes.</strong></li></ul><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222164813494 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222164813494_huba6e0bab0a29c92faf18ea4e71a32e29_109880_c9725ffe5d520ec47aac014c07067a7a.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222164813494_huba6e0bab0a29c92faf18ea4e71a32e29_109880_e35880066c5994e6f0c71713fa0c4c6d.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222164813494_huba6e0bab0a29c92faf18ea4e71a32e29_109880_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222164813494_huba6e0bab0a29c92faf18ea4e71a32e29_109880_c9725ffe5d520ec47aac014c07067a7a.webp width=684 height=464 loading=lazy data-zoomable></div></div></figure></p><h3 id=decomposition-分解-storage-model-dsm>Decomposition 分解 Storage Model (DSM)</h3><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222165051507 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165051507_hu9c03f1f657567e7c08df7e4576dd36b4_88960_0c0e1f70958b4350817e058ba88859a2.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165051507_hu9c03f1f657567e7c08df7e4576dd36b4_88960_84ee7de04f474641008f5079f01fa063.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165051507_hu9c03f1f657567e7c08df7e4576dd36b4_88960_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165051507_hu9c03f1f657567e7c08df7e4576dd36b4_88960_0c0e1f70958b4350817e058ba88859a2.webp width=712 height=388 loading=lazy data-zoomable></div></div></figure></p><p>This model is <strong>ideal for OLAP</strong> workloads with many read-only queries that perform large scans over a subset of the table’s attributes.</p><p>Advantages:</p><ul><li><strong>Reduces the amount of I/O wasted</strong> because the DBMS only reads the data that it needs for that query.</li><li>Better query processing and data compression</li></ul><p>Disadvantages:</p><ul><li>Slow for point queries, inserts, updates, and deletes because of tuple splitting/<strong>stitching</strong>(缝合).</li></ul><p>To <strong>put the tuples back together</strong> when using a column store,there are two common approaches:</p><p>fixed-length offsets(most common): Each value is the same length for an attribute</p><p>Embedded Tuple Ids:Each value is stored with its tuple id in a column</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222165430923 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165430923_hu884be268e032fdeb7a677f672b846f24_81619_b2995747ad547db94d64a161da8089db.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165430923_hu884be268e032fdeb7a677f672b846f24_81619_1a31b3560becd543e3983206645f3cf7.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165430923_hu884be268e032fdeb7a677f672b846f24_81619_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222165430923_hu884be268e032fdeb7a677f672b846f24_81619_b2995747ad547db94d64a161da8089db.webp width=760 height=377 loading=lazy data-zoomable></div></div></figure></p><h2 id=53-database-compression>5.3 Database Compression</h2><blockquote><ul><li><p>压缩操作被在<strong>disk-based</strong> DBMSs广泛应用。因为disk的I/O总是瓶颈，所以压缩可以让系统提升性能，尤其是只读analyt Managical workloads上。</p><p>如果事先对tuples进行了压缩，DBMS可以获取更多有用的tuple，但代价是要付出更大的压缩和解压的计算开销。</p></li><li><p>内存中的DBMS更加复杂，因为它们不必从磁盘中获取数据来执行一个查询。 内存比磁盘快得多，但压缩数据库可以减少DRAM需求和处理。</p><p>而且必须在速度和压缩率中取得一个平衡。压缩数据库可以减少DRAM的需求和查询执行过程中的CPU成本。</p></li><li><p>如果数据集是完全随机的bits，那么我们没有办法进行压缩。然而，现实世界中的数据集有一些key properties 是可以进行压缩的。</p><ul><li>数据集往往具有高度倾斜的属性值分布（例如，Brown语料库的Zipfian分布）。</li><li>数据集往往在同一元组的属性之间有很高的相关性（例如，邮政编码到城市。订单日期与发货日期）。 Manag</li></ul></li></ul></blockquote><p>Given this, we want a database compression scheme to have the following properties:</p><ul><li>Must produce <strong>fixed-length values</strong>. The only exception is var-length data stored in separate pools. This because the DBMS should follow word-<strong>alignment</strong>(对齐) and be able to access data using offsets.</li><li>Allow the DBMS to <strong>postpone</strong>(推迟) decompression as long as possible during query execution (late materialization).</li><li>Must be <strong>a lossless scheme</strong> because people do not like losing data. Any kind of lossy compression has to be performed at the application level.</li></ul><h3 id=compression-granularity>Compression Granularity</h3><p>在给DBMS增加压缩功能之前，我们需要决定我们要压缩什么样的数据。这个决定决定了压缩方案的可用性。有四个级别的压缩 Manag颗粒度（granularity）</p><ul><li><p>Block Level: 压缩同一张表的tuple块。</p></li><li><p>Tuple Level: 压缩整个tuples的内容（仅NSM）。</p></li><li><p>Attribute Level: 在一个tuple内压缩单个属性值。可以针对同一tuple的多个属性。</p></li><li><p>Columnar Level:</p><p>为多个tuple存储的一个或多个属性压缩多个值 (只限于DSM)。这允许更复杂的压缩方案。</p></li></ul><h2 id=54-naive-compression>5.4 Naive Compression</h2><p>DBMS使用一个<strong>通用的算法</strong>对数据进行压缩 (e.g., gzip, LZO, LZ4, Snappy, Brotli, Oracle OZIP, Zstd)。 尽管DBMS可以使用几种压缩算法，但工程师们往往选择那些经常提供较低压缩率以换取更快的压缩/解压的算法。</p><p>naive compression例子： <strong>MySQL InnoDB</strong></p><p>DBMS对磁盘页面进行压缩，将其压缩到2KB的幂数，并将其存储到缓冲池中。然而，每次DBMS试图读取数据时，缓冲池中的压缩数据必须被解压</p><p>缺点:</p><ul><li>由于访问数据<strong>需要对压缩的数据进行解压</strong>，这就限制了压缩方案的范围。 如果目标是将整个表压缩成一个巨大的块，使用naive compression 方案是不可能的，因为每次访问都需要对整个表进行压缩/解压缩。 因此，对于MySQL来说，由于压缩范围有限，它将表分解成更小的块状。</li><li>naive方案也没有考虑到数据的高级含义或语义。 该算法既不考虑数据的结构，也不考虑查询打算如何访问 数据。因此，这就<strong>失去了利用late materialization 的机会</strong>，因为DBMS不能知道它何时能够延迟数据的解压。</li></ul><h2 id=55-columnar-compression-柱状压缩>5.5 Columnar Compression 柱状压缩**</h2><h3 id=run-length-encoding>Run-length Encoding</h3><p>Compress runs of the same value in a single column into triplets:</p><ul><li>The value of the attribute.</li><li>The start position in the column segment.</li><li>The # of elements in the run.</li></ul><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222170534215 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170534215_hua4e94f5df4190ac6a4cb2081ee5bae21_52535_205fac9c1d51344ba77ad176c2aa57d7.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170534215_hua4e94f5df4190ac6a4cb2081ee5bae21_52535_7c1f361f36253fa4c36314fb1dc5291d.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170534215_hua4e94f5df4190ac6a4cb2081ee5bae21_52535_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170534215_hua4e94f5df4190ac6a4cb2081ee5bae21_52535_205fac9c1d51344ba77ad176c2aa57d7.webp width=727 height=383 loading=lazy data-zoomable></div></div></figure></p><p>Requires the columns to be sorted <strong>intelligently</strong>(智能) to maximize compression opportunities.</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222170706032 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170706032_hua84612ef4007d4d9946188cfd8be97bb_36555_064b5f70fed9b64ec4039b8dc8cff6b5.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170706032_hua84612ef4007d4d9946188cfd8be97bb_36555_a76950044ff733e9d5d314b23132fd6c.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170706032_hua84612ef4007d4d9946188cfd8be97bb_36555_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170706032_hua84612ef4007d4d9946188cfd8be97bb_36555_064b5f70fed9b64ec4039b8dc8cff6b5.webp width=693 height=406 loading=lazy data-zoomable></div></div></figure></p><h3 id=bit-packing-encoding>Bit-Packing Encoding</h3><p>When values for an attribute are <strong>always less than the value&rsquo;s declared largest size,</strong> <strong>store them as smaller data type</strong>.</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222170800172 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170800172_hu46b31a996c3f521c96953fd3435620cc_45759_a9f1efec0e024234e7aaefe39722348b.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170800172_hu46b31a996c3f521c96953fd3435620cc_45759_8042099dbf818e90140c64761452fefb.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170800172_hu46b31a996c3f521c96953fd3435620cc_45759_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170800172_hu46b31a996c3f521c96953fd3435620cc_45759_a9f1efec0e024234e7aaefe39722348b.webp width=760 height=189 loading=lazy data-zoomable></div></div></figure></p><p>Bit-packing variant that uses a <strong>special marker</strong> to indicate when a value exceeds largest size and then maintain a look-up table to store them.</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222170818530 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170818530_hu97c6f66a875eded62edadc7467f078a1_46217_2eb479e5b8191b0f95d3234bcb4ad1bc.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170818530_hu97c6f66a875eded62edadc7467f078a1_46217_a8ee8ad03b3461e63dbce31825e184fd.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170818530_hu97c6f66a875eded62edadc7467f078a1_46217_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222170818530_hu97c6f66a875eded62edadc7467f078a1_46217_2eb479e5b8191b0f95d3234bcb4ad1bc.webp width=760 height=187 loading=lazy data-zoomable></div></div></figure></p><h3 id=bitmap-encoding>Bitmap Encoding</h3><p>Store a separate bitmap for each unique value for an attribute where <strong>an offset in the vector corresponds to a tuple.</strong></p><ul><li>The i th position in the Bitmap corresponds to the i th tuple in the table.</li><li>Typically segmented into chunks to avoid allocating large blocks of contiguous memory. Only practical <strong>if the value cardinality(基数) is low</strong>. Some DBMSs provide bitmap indexes.</li></ul><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222171138540 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171138540_huab479fb3d05c1d9c70bb01c8efde26f2_64903_cafe57d1b3648b09128cc49a5ff8d6bc.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171138540_huab479fb3d05c1d9c70bb01c8efde26f2_64903_201d70af675d42e783e8b5b81b093844.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171138540_huab479fb3d05c1d9c70bb01c8efde26f2_64903_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171138540_huab479fb3d05c1d9c70bb01c8efde26f2_64903_cafe57d1b3648b09128cc49a5ff8d6bc.webp width=760 height=387 loading=lazy data-zoomable></div></div></figure></p><h3 id=delta-encoding>Delta Encoding</h3><p><strong>Recording the difference</strong> between values that follow each other in the same column.</p><ul><li>Store base value in-line or in a separate look-up table.</li><li><strong>Combine with RLE to get even better compression ratios.</strong></li></ul><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222171254392 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171254392_hu4544ac5a826f509c4a673c460def9e0a_55990_331f471414a83ff3627dfa2947d69f3e.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171254392_hu4544ac5a826f509c4a673c460def9e0a_55990_221ed394c99859231a398861ca0b947d.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171254392_hu4544ac5a826f509c4a673c460def9e0a_55990_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171254392_hu4544ac5a826f509c4a673c460def9e0a_55990_331f471414a83ff3627dfa2947d69f3e.webp width=760 height=230 loading=lazy data-zoomable></div></div></figure></p><h3 id=incremental-encoding>Incremental Encoding</h3><p>Type of delta encoding that <strong>avoids duplicating common prefixes/suffixes between consecutive tuples</strong>. This works best with sorted data.</p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222171338403 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171338403_hu7a5d9e6f86d19720fec133f61e26c137_73268_c5451d5937c6ba6a785ee7b45203b98d.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171338403_hu7a5d9e6f86d19720fec133f61e26c137_73268_c74575a2c57aff662bede8e943f027a9.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171338403_hu7a5d9e6f86d19720fec133f61e26c137_73268_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171338403_hu7a5d9e6f86d19720fec133f61e26c137_73268_c5451d5937c6ba6a785ee7b45203b98d.webp width=760 height=212 loading=lazy data-zoomable></div></div></figure></p><h3 id=dictionary-encoding>Dictionary Encoding</h3><p>Build a data structure that <strong>maps variable-length values to a smaller integer identifier.</strong></p><p>Replace those values with their corresponding identifier in the dictionary data structure.</p><ul><li>Need to support fast encoding and decoding.<ul><li>Encode/Locate: For a given uncompressed value, convert it into its compressed form.</li><li>Decode/Extract: For a given compressed value, convert it back into its original form.</li><li>No magic hash function will do this for us.</li></ul></li><li>Need to also support range queries.</li></ul><p><strong>Most widely used compression scheme in DBMSs.</strong></p><p><figure><div class="flex justify-center"><div class=w-100><img alt=image-20230222171632448 srcset="/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171632448_hu85d19909300784701cd1e9eb06f25528_107171_4ff0b43f8b662b8b02b04023a05900b5.webp 400w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171632448_hu85d19909300784701cd1e9eb06f25528_107171_46026c2a80f2ac66b89e41dd7a419b8b.webp 760w,
/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171632448_hu85d19909300784701cd1e9eb06f25528_107171_1200x1200_fit_q85_h2_lanczos_3.webp 1200w" src=/blog/p0-c-primerhttps/15445.courses.cs.cmu.edu/fall2022/project0/img/image-20230222171632448_hu85d19909300784701cd1e9eb06f25528_107171_4ff0b43f8b662b8b02b04023a05900b5.webp width=760 height=357 loading=lazy data-zoomable></div></div></figure></p><h1 id=homework-2-storage--indexeshttps15445coursescscmuedufall2022fileshw2-cleanpdf>Homework #2 <a href=https://15445.courses.cs.cmu.edu/fall2022/files/hw2-clean.pdf target=_blank rel=noopener>Storage & Indexes</a></h1><h2 id=question-1-storage-models>Question 1: Storage Models</h2><p>a database with a single table <strong>R(q_id,txns,total,failed)</strong>, where q_id is the <strong>primary key</strong>, and <strong>all attributes are the same fixed width.</strong></p><p>Suppose R has 20,000 tuples that fit into 100 pages, <strong>Ignore any additional storage</strong> overhead for the table (e.g., page headers, tuple headers).</p><p>Assumptions:</p><ul><li>The DBMS does <strong>not have any additional meta-data</strong> (e.g., sort order, zone maps).</li><li>R does <strong>not have any indexes</strong> (including for primary key q_id)</li><li><strong>None</strong> of R’s pages are already <strong>in the buffer pool</strong>.</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>SELECT total - failed FROM R
</span></span><span class=line><span class=cl>WHERE q id = 96 AND txns &gt; 420;
</span></span></code></pre></div><h3 id=a-suppose-the-dbms-uses-the-decomposition-storage-model-dsm-with-implicit-offsets>(a) Suppose the DBMS uses the decomposition storage model (DSM) with implicit offsets</h3><ul><li><p>i What is the <strong>minimum number of pages</strong> that the DBMS will potentially have to read from disk to answer this query?</p><p>题意是存在这样一条记录,找到该条记录最少的磁盘读次数.</p><p>官方解答是: 4 pages. 1 to find the primary key, + 3 to access txns, total, failed at their corresponding offsets.</p><p>因为使用分解存储模式DSM, 按列存储.</p><p>因此找到主键后就可以通过偏移量找其他属性的值. 读盘次数的限制在找主键上.</p><p>显然,找主键至少需要一次读盘.</p></li><li><p>ii What is the <strong>maximum number of pages</strong> that the DBMS will potentially have to read from disk to answer this query?</p><p>官方解答: 28 pages. <strong>There are 25 pages per attribute.</strong> In the worst case, we scan through all 25 pages to find the primary key, and then + 3 to access txns, total, failed at their corresponding offsets.</p><p>上题可知,找主键次数决定了读盘次数.</p><p>也就是当q_id = 96的记录越靠后, 找主键次数越多.</p><p>因为没有顺序,所以96是无用的信息.</p><p>同时因为<strong>有四个属性,且所有属性大小固定</strong>. 所以当每个属性都占25页时,且q_id=26所在的记录是最后一个(25),找主键次数最大为25次.</p></li></ul><h3 id=bsuppose-the-dbms-uses-the-n-ary-storage-model-nsm>(b)Suppose the DBMS uses the N-ary storage model (NSM)</h3><ul><li><p>i. What is the minimum number of pages that the DBMS will potentially have to read from disk to answer this query?</p><p>Solution: We find the tuple with the matching primary key on the first page. No need to look in other pages since all attributes are stored together.</p><p>在第一页</p></li><li><p>ii. [4 points] What is the maximum number of pages that the DBMS will potentially have to read from disk to answer this query?</p><p>在最后一页 100</p></li></ul><h2 id=question-2-cuckoo-hashing>Question 2: Cuckoo Hashing</h2><p>几道哈希表计算的题目,较简单</p><p>2进制：0b，8进制：0o，10进制：无前缀，16进制：0x</p><h2 id=question-3-extendible-hashing>Question 3: Extendible Hashing</h2><p>Consider an extendible hashing structure such that:</p><ul><li>Each bucket can hold up to two records.</li><li>The hashing function uses the lowest g bits, where g is the global depth.</li></ul><p>题目是一个二进制可扩展哈希. 哈希函数是二进制最低g位.</p><p>每个哈希值对应一个桶, 每个桶最多两个, 所有刚好就是二进制.</p><h3 id=a-starting-from-an-empty-table-insert-keys-15-14-23-11-9>(a) Starting from an empty table, insert keys 15, 14, 23, 11, 9.</h3><p>二进制表示</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>15: 00001111
</span></span><span class=line><span class=cl>14: 00001110
</span></span><span class=line><span class=cl>23: 00010111
</span></span><span class=line><span class=cl>11: 00001011
</span></span><span class=line><span class=cl>9 : 00001001
</span></span></code></pre></div><p>插入步骤(括号内为局部深度,全局深度为最大局部深度)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>插入15
</span></span><span class=line><span class=cl>全局: 1; 桶 1(1):15
</span></span><span class=line><span class=cl>14
</span></span><span class=line><span class=cl>全局: 1; 桶 1(1):15 ; 0(1):14
</span></span><span class=line><span class=cl>23
</span></span><span class=line><span class=cl>全局: 1; 桶 1(1):15,23; 0(1):14
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>11
</span></span><span class=line><span class=cl>全局: 1; 桶 1(1):15,23,11; 0(1):14
</span></span><span class=line><span class=cl>桶1此时有三条记录,需要扩展深度,扩展为2
</span></span><span class=line><span class=cl>全局: 2; 桶 11(2):15,23,11; 01(2):; 0(1):14
</span></span><span class=line><span class=cl>桶11此时有三条记录,需要扩展深度,扩展为3
</span></span><span class=line><span class=cl>全局: 3; 桶 111(3):15,23; 011(3):11;01(2):; 0(1):14
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>9
</span></span><span class=line><span class=cl>全局: 3; 桶 111(3):15,23; 011(3):11; 0(1):14; 01(2):9;
</span></span></code></pre></div><ul><li><p>i. What is the global depth of the resulting table?</p><p>显然,当g至少等于3的时候才能使得同一个哈希值最多对应两个记录.</p></li><li><p>ii. [4 points] What is the local depth the bucket containing 15?</p><p>为3</p></li><li><p>iii. [4 points] What is the local depth of the bucket containing 14?</p><p>为1</p></li></ul><h3 id=b-starting-from-the-result-in-a-you-insert-keys-12-5-7-13-2>(b) Starting from the result in (a), you insert keys 12, 5, 7, 13, 2.</h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>15: 00001111
</span></span><span class=line><span class=cl>14: 00001110
</span></span><span class=line><span class=cl>23: 00010111
</span></span><span class=line><span class=cl>11: 00001011
</span></span><span class=line><span class=cl>9 : 00001001
</span></span><span class=line><span class=cl>此时 全局: 3; 桶 111(3):15,23; 011(3):11; 0(1):14; 01(2):9;
</span></span><span class=line><span class=cl>12: 00001010
</span></span><span class=line><span class=cl>5 : 00000101
</span></span><span class=line><span class=cl>7 : 00000111
</span></span><span class=line><span class=cl>13: 00001101
</span></span><span class=line><span class=cl>2 : 00000010
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>12
</span></span><span class=line><span class=cl>全局: 3; 桶 111(3):15,23; 011(3):11; 0(1):14,12; 01(2):9;
</span></span><span class=line><span class=cl>5
</span></span><span class=line><span class=cl>全局: 3; 桶 111(3):15,23; 011(3):11; 0(1):14,12; 01(2):9;
</span></span><span class=line><span class=cl>7
</span></span><span class=line><span class=cl>全局: 3; 桶 111(3):15,23; 011(3):11; 0(1):14,12; 1(1):9,5;
</span></span><span class=line><span class=cl>此时111桶有3个,增加深度为4
</span></span><span class=line><span class=cl>全局: 4; 桶 1111(4):15;0111(4):23,7; 011(3):11; 0(1):14,12; 1(1):9,5;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>13
</span></span><span class=line><span class=cl>全局: 4; 桶 1111(4):15;0111(4):23,7; 011(3):11; 0(1):14,12; 1(1):9,5;
</span></span><span class=line><span class=cl>01(2):13;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>2
</span></span><span class=line><span class=cl>全局: 4; 桶 1111(4):15;0111(4):23,7; 011(3):11; 0(1):14,12; 1(1):9,5;
</span></span><span class=line><span class=cl>01(2):13;01(2):2
</span></span></code></pre></div><ul><li><p>i. [4 points] Which key will first cause a split (without doubling the size of the table)?</p><p>这里的split操作指的是<strong>增加桶的数量</strong>,而不double.也就是不增加全局深度.(增加全局深度会翻一倍)</p><p>所以是13第一个增加了桶的数量.</p></li><li><p>ii. [4 points] Which key will first make the table double in size?</p><p>7</p></li></ul><h3 id=c-now-consider-the-table-below-along-with-the-following-deletion-rules>(c) Now consider the table below, along with the following deletion rules:</h3><ol><li>If two buckets satisfy the following:</li></ol><p>(a) They have the same local depth d</p><p>(b) They share the first d − 1 bits of their indexes (e.g. b010 and b110 share the first 2 bits)</p><p>(c) Their constituent elements fit in a single bucket. Then they can be merged into a single bucket with local depth d − 1.</p><ol start=2><li>If the global depth g becomes strictly greater than all local depths, then the table can be halved in size. The resulting global depth is g − 1.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>00
</span></span><span class=line><span class=cl>28:11100
</span></span><span class=line><span class=cl>8 :01000
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>01
</span></span><span class=line><span class=cl>25:11001
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>10
</span></span><span class=line><span class=cl>30:11110
</span></span><span class=line><span class=cl>22:10110
</span></span><span class=line><span class=cl>18:10010
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>011
</span></span><span class=line><span class=cl>11:01011
</span></span><span class=line><span class=cl>27:11011
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>111
</span></span><span class=line><span class=cl>23:10111
</span></span><span class=line><span class=cl>7 :00111
</span></span></code></pre></div><p>Starting from the table above, delete keys 25, 18, 22, 27, 7.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>delete 25
</span></span><span class=line><span class=cl>00
</span></span><span class=line><span class=cl>28:11100
</span></span><span class=line><span class=cl>8 :01000
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>10
</span></span><span class=line><span class=cl>30:11110
</span></span><span class=line><span class=cl>22:10110
</span></span><span class=line><span class=cl>18:10010
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>011
</span></span><span class=line><span class=cl>11:01011
</span></span><span class=line><span class=cl>27:11011
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>111
</span></span><span class=line><span class=cl>23:10111
</span></span><span class=line><span class=cl>7 :00111
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>delete 18
</span></span><span class=line><span class=cl>00
</span></span><span class=line><span class=cl>28:11100
</span></span><span class=line><span class=cl>8 :01000
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>10
</span></span><span class=line><span class=cl>30:11110
</span></span><span class=line><span class=cl>22:10110
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>011
</span></span><span class=line><span class=cl>11:01011
</span></span><span class=line><span class=cl>27:11011
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>111
</span></span><span class=line><span class=cl>23:10111
</span></span><span class=line><span class=cl>7 :00111
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>delete 22
</span></span><span class=line><span class=cl>00
</span></span><span class=line><span class=cl>28:11100
</span></span><span class=line><span class=cl>8 :01000
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>10
</span></span><span class=line><span class=cl>30:11110
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>011
</span></span><span class=line><span class=cl>11:01011
</span></span><span class=line><span class=cl>27:11011
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>111
</span></span><span class=line><span class=cl>23:10111
</span></span><span class=line><span class=cl>7 :00111
</span></span><span class=line><span class=cl>此时00 和 10可进行合并
</span></span><span class=line><span class=cl>0
</span></span><span class=line><span class=cl>28:11100
</span></span><span class=line><span class=cl>8 :01000
</span></span><span class=line><span class=cl>30:11110
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>011
</span></span><span class=line><span class=cl>11:01011
</span></span><span class=line><span class=cl>27:11011
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>111
</span></span><span class=line><span class=cl>23:10111
</span></span><span class=line><span class=cl>7 :00111
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>delete 27
</span></span><span class=line><span class=cl>0
</span></span><span class=line><span class=cl>28:11100
</span></span><span class=line><span class=cl>8 :01000
</span></span><span class=line><span class=cl>30:11110
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>011
</span></span><span class=line><span class=cl>11:01011
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>111
</span></span><span class=line><span class=cl>23:10111
</span></span><span class=line><span class=cl>7 :00111
</span></span><span class=line><span class=cl>此时 011 和 111可合并为11,一次合并最多减少1, 此时global depth = 2
</span></span><span class=line><span class=cl>0
</span></span><span class=line><span class=cl>28:11100
</span></span><span class=line><span class=cl>8 :01000
</span></span><span class=line><span class=cl>30:11110
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>11
</span></span><span class=line><span class=cl>11:01011
</span></span><span class=line><span class=cl>23:10111
</span></span><span class=line><span class=cl>7 :00111
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>delete 7
</span></span><span class=line><span class=cl>0
</span></span><span class=line><span class=cl>28:11100
</span></span><span class=line><span class=cl>8 :01000
</span></span><span class=line><span class=cl>30:11110
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>11
</span></span><span class=line><span class=cl>11:01011
</span></span><span class=line><span class=cl>23:10111
</span></span></code></pre></div><ul><li>i. Which deletion first causes a reduction in a local depth.</li></ul><p>22</p><ul><li><p>ii. Which deletion first causes a reduction in global depth.</p><p>27</p><p>Solution: Deleting 27 from bucket b011 allows it to merge with b111. Since these two buckets are the only ones of depth d = 3, this merge reduces the global depth to d = 2</p></li></ul><h2 id=question-4-btree>Question 4: B+Tree</h2><p>还行,就是有个奇怪的点. 索引节点的值一般会出现在叶子节点上.</p><p>最后一题是找出指定的节点 非法的地方.</p><h1 id=p1>P1</h1><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>1: 0001
</span></span><span class=line><span class=cl>2: 0010
</span></span><span class=line><span class=cl>3: 0011
</span></span><span class=line><span class=cl>4: 0100
</span></span><span class=line><span class=cl>5: 0101
</span></span><span class=line><span class=cl>6: 0110
</span></span><span class=line><span class=cl>7: 0111
</span></span><span class=line><span class=cl>8: 1000
</span></span><span class=line><span class=cl>9: 1001
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>1 2 3 4
</span></span><span class=line><span class=cl>全局1 1(1):1,3;0(1):2,4;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>5
</span></span><span class=line><span class=cl>全局1 1(1):1,3,5;0(1):2,4;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>全局2 01(2):1,5;11(2)3;0(1):2,4;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>6
</span></span><span class=line><span class=cl>全局2 01(2):1,5;11(2)3;00(2):4;10(2):2,6;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>7
</span></span><span class=line><span class=cl>全局2 01(2):1,5;11(2)3,7;00(2):4;10(2):2,6;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>8
</span></span><span class=line><span class=cl>全局2 01(2):1,5;11(2)3,7;00(2):4,8;10(2):2,6;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>9
</span></span><span class=line><span class=cl>全局2 01(2):1,5,9;11(2)3,7;00(2):4,8;10(2):2,6;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>全局3 001(3):1,9;101(3):5;11(2)3,7;00(2):4,8;10(2):2,6;
</span></span></code></pre></div><h2 id=lru-k>LRU-K</h2><p>The LRU-K algorithm <strong>evicts</strong>(剔除) a frame whose <strong>backward k-distance</strong> is maximum of all frames in the replacer.</p><p><strong>Backward k-distance</strong> is computed as the <strong>difference</strong> in time between current timestamp and the timestamp of kth previous access.</p><p>A frame with less than k historical accesses is given +inf as its backward k-distance. When <strong>multipe frames have +inf backward k-distance</strong>, the replacer evicts the frame <strong>with the earliest timestamp</strong>.</p><p>先弄清楚逻辑在写，不要把时间花在无意义的bug上。</p><h1 id=p2-btree>P2 B+Tree</h1><h2 id=概述>概述</h2><p>内部节点：索引作用</p><p>叶子节点：包含真正的数据实体</p><p>由于树是动态增长和收缩，所以要处理 split 和 merge</p><blockquote><p>Since the tree structure grows and shrink dynamically, you are required to handle the logic of split and merge.</p></blockquote><p><strong>Checkpoint #1 — Due Date: Oct 11 @ 11:59pm</strong></p><ul><li><strong><a href=https://15445.courses.cs.cmu.edu/fall2022/project2/#b+tree-pages target=_blank rel=noopener>Task #1 - B+Tree Pages</a></strong></li><li><strong><a href=https://15445.courses.cs.cmu.edu/fall2022/project2/#b+tree-structure target=_blank rel=noopener>Task #2 - B+Tree Data Structure (Insertion, Deletion, Point Search)</a></strong></li></ul><p><strong>Checkpoint #2 — Due Date: Oct 26 @ 11:59pm</strong></p><ul><li><strong><a href=https://15445.courses.cs.cmu.edu/fall2022/project2/#index-iterator target=_blank rel=noopener>Task #3 - Index Iterator</a></strong></li><li><strong><a href=https://15445.courses.cs.cmu.edu/fall2022/project2/#concurrent_index target=_blank rel=noopener>Task #4 - Concurrent Index</a></strong></li></ul><p>该project 要依赖于上一个 buffer pool 的正确实现。</p><p>由于第一个检查点与第二个检查点密切相关，在第二个检查点中，您将在现有的B+索引中实现索引抓取，因此我们传入了一个名为transaction的指针参数，其默认值为nullptr。在任务#4之前，您不需要更改或调用与参数相关的任何函数。</p><h2 id=task-1---btree-pages>Task #1 - B+Tree Pages</h2><ul><li><strong><a href=https://15445.courses.cs.cmu.edu/fall2022/project2/#b+tree-page target=_blank rel=noopener>B+Tree Parent Page</a></strong></li><li><strong><a href=https://15445.courses.cs.cmu.edu/fall2022/project2/#b+tree-internal-page target=_blank rel=noopener>B+Tree Internal Page</a></strong></li><li><strong><a href=https://15445.courses.cs.cmu.edu/fall2022/project2/#b+tree-leaf-page target=_blank rel=noopener>B+Tree Leaf Page</a></strong></li></ul><h3 id=btree-parent-page>B+Tree Parent Page</h3><p>ParenPage 被 Internal Page 和 Leaf Page所继承。</p><p>并且只包含了 子类 所共享的信息。</p><p><strong>可以规定</strong> <code>parent_page_id_</code> 为 <code>INVALID_PAGE_ID</code> 表示根节点。</p><p>| Variable Name | Size | Description | | &mdash;&mdash;&mdash;&mdash;&mdash; | &mdash;- | &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash; | | page_type_ | 4 | Page Type (internal or leaf) | | lsn_ | 4 | Log sequence number (Used in Project 4) | | size_ | 4 | Number of Key & Value pairs in page | | max_size_ | 4 | Max number of Key & Value pairs in page | | parent_page_id_ | 4 | Parent Page Id | | page_id_ | 4 | Self Page Id |</p><h3 id=btree-internal-page>B+Tree Internal Page</h3><ul><li>不存储真实数据。只存储 m个有序 key和m+1个child 指针。</li><li>因为key的数量和指针数量不相等。第一个key被设定为invalid。所有方法需要从第二个key开始（下标为1）</li><li>实际存储如下</li><li>键,指针,键,指针,&mldr;,键,指针.</li><li>此时有m+1个键,为了保证只有m个键,所以第一个键设置为无效的.</li></ul><p>key的数量限制</p><ul><li>在任何时间，最少装了一半（half-full）。</li><li>删除时，两个 half-full可以被joined 成为一个合法的 Internal Page<ul><li>或者被重新分配来避免merge</li></ul></li><li>当插入到一个fullpage时，可以被split成两个。</li><li>This is an example of one of the many design choices that you will make in the implementation of the B+ Tree.</li></ul><p>三个泛型 KeyType, ValueType, KeyComparator。</p><p><strong>KeyType</strong> 不一定直接可用大于小于号比较，所以引入了 KeyComparator，从 cpp 文件中的实例化可以看出用的是 GenericKey 和 GenericComparator，查看二者源码可以得到以下信息：</p><p><strong>GenericKey</strong> 可以调用 ToString() 函数得到其 int64 表示，然后用 **%ld 格式符打印。**这对我们后面调试时非常重要。 GenericComparator 的比较规则是：左边小于右边时，返回 -1；左边大于右边时，返回 1；相等返回 0。</p><p><strong>ValueType</strong> 代表的是指向子页面的指针，从实例化可以看出实际只用了 page_id_t，也就是 <strong>int</strong>。</p><p>数据存储上，其理论结构应为 &lt;指针，键，指针，键…，键，指针>，为方便存储，实际上<strong>在头部多补了一个无效键</strong>，从而可以用一个 pair 的数组存储：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>#define MappingType std::pair&lt;KeyType, ValueType&gt;
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>class BPlusTreeInternalPage : public BPlusTreePage {
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>private:
</span></span><span class=line><span class=cl>  // Flexible array member for page data.
</span></span><span class=line><span class=cl>  MappingType array_[1];
</span></span><span class=line><span class=cl>}
</span></span></code></pre></div><p>array_[1] 等价与 pair类型的指针.指向pair数组. 数组的每一个元素是&lt;键,值></p><p>在内部节点中,值代表指针.(第一个元素的键是无效的,但值是存在的).</p><p>因为节点对象使用的是预先分配好的固定空间，array_ 可以控制从该位置开始到 Page 的 data 结束为止的这一段空间。</p><p>因此，节点对象的生命周期也不是由 new 和 delete，而是由 BufferPoolManager 管理.</p><ul><li>取一个页面，用 FetchPage；</li><li>使用结束归还一个页面，用 UnpinPage。</li><li>page_id_ 不仅是 B+ 树中节点的编号，同时也是这个节点使用的 Page 在 BufferPool 中的编号。</li></ul><h3 id=btree-leaf-page>B+Tree Leaf Page</h3><ul><li>存储 m个有序key，m个 value 实体</li><li>在这次实现中，value 仅仅是64位的record_id, 被用于定位真实的tuples的存储位置.<ul><li>see <code>RID</code> class defined under in <code>src/include/common/rid.h</code>.</li></ul></li><li>对于键值对的数量限制与Internal Page一致.</li></ul><p><strong>重要</strong></p><ul><li>尽管叶子节点和内部节点有相同类型的key.但他们值的类型不一样.<ul><li>所以<strong>max_size 也应该是不同的</strong></li></ul></li><li>每个节点的 <strong>data_</strong>,都是从buffer pool 中fetch得到的 内存页面.<ul><li>所以当写或读时,要先使用唯一的page_id,从buffer pool 中fetch 出来.</li><li>然后使用 reinterpret cast, 转换成 叶子节点或内部节点.</li><li>并且要在读或写操作结束后,unpin这个页面.</li></ul></li></ul><h2 id=task-2---btree-data-structure>Task #2 - B+Tree Data Structure</h2><ul><li>只支持 unique keys. 也就是说,当有重复的key插入时, 不进行任何操作并返回false</li><li>同时当删除操作导致 页面key数量低于阈值时, 需要正确地执行 merge 和 redistribute(也叫做 coalescing) 操作.</li></ul><p>对于checkpoint , B+Tree Index 只需要支持 <strong>insertions</strong> (<code>Insert()</code>), <strong>point search</strong> (<code>GetValue()</code>), and <strong>deletes</strong> (<code>Delete()</code>)</p><p>插入操作 引起 split操作的情况:</p><ul><li>插入操作后, 叶子节点中 pair的数量 等于 max_size</li><li>插入 操作前, 内部节点 孩子数量等于 max_size</li></ul><p>因为写操作会导致, root_page_id的改变,所以也要在 <strong>header page</strong> 同时更新 root_page_id (<code>src/include/storage/page/header_page.h</code>).</p><p>更新的方法是调用 <code>UpdateRootPageId</code> (已经提供了)</p><p>需要隐藏类型和比较.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>template &lt;typename KeyType,
</span></span><span class=line><span class=cl>          typename ValueType,
</span></span><span class=line><span class=cl>          typename KeyComparator&gt;
</span></span><span class=line><span class=cl>class BPlusTree{
</span></span><span class=line><span class=cl>   // ---
</span></span><span class=line><span class=cl>};
</span></span></code></pre></div><ul><li><code>KeyType</code>: 索引中key的类型,只可能是 <code>GenericKey</code>.<ul><li>GeneriKey真实的size是特定的.</li><li>是通过模板参数指定和实例化的，并取决于索引属性的数据类型.</li></ul></li><li><code>ValueType</code>: 索引中值的类型. 只可能是 64-bit RID.</li><li><code>KeyComparator</code>: 用来比较两个KeyType实例 大小关系. 左边小于右边时，返回 -1；左边大于右边时，返回 1；相等返回 0。</li></ul><h2 id=checkpoint-1查找插入和删除>Checkpoint 1：查找，插入和删除</h2><h3 id=约定>约定</h3><p>这里约定 内部节点array中key 与子节点的关系.</p><ul><li>左子节点的keys &lt;= 父节点的keys</li><li>右子节点的keys > 父节点的keys</li></ul><h3 id=查找>查找</h3><p>给定key，返回查找的页面。</p><p>页面的数据存在叶子节点中。</p><p>因此要从根节点开始，一层一层往下找</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>findValue</span><span class=p>(</span><span class=k>const</span> <span class=n>Page</span> <span class=n>page</span><span class=p>,</span><span class=n>KeyType</span> <span class=n>key</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>//二分查找 page的array中,找到最大的小于等于key的 pair
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=n>pair</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>GetLeaf</span><span class=p>(</span><span class=n>Page</span> <span class=n>root</span><span class=p>,</span><span class=n>KeyType</span> <span class=n>key</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>Page</span> <span class=n>now</span> <span class=o>=</span> <span class=n>root</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>now</span><span class=p>.</span><span class=n>type</span> <span class=o>!=</span> <span class=n>leaf</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>now</span> <span class=o>=</span> <span class=n>findValue</span><span class=p>(</span><span class=n>now</span><span class=p>,</span><span class=n>key</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>now</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>GetValue</span><span class=p>(</span><span class=n>KeyType</span> <span class=n>key</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=n>Page</span> <span class=n>now</span> <span class=o>=</span> <span class=n>GetLeaf</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=n>key</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>//现在now为叶子节点,在叶子节点中找对应的值.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>findValue</span><span class=p>(</span><span class=n>now</span><span class=p>,</span><span class=n>key</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>//如果返回值的key不相等则没找到.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//相等则返回找到
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div><h3 id=插入叶子节点>插入(叶子节点)</h3><p>因为以下的操作都基于至少有一个根节点的情况.</p><p>因此在最开始要判断是否为空树,如为空树则创建根, 直接返回</p><p>首先看键存不存在,如果已经存在,则直接返回.</p><p>因为B+树的真实数据存在叶子节点中. 因此插入的第一步就是在找到对应叶子节点,并**插入(叶子节点)**到对应位置.</p><p>此后可能会引起分裂.</p><ol><li>先直接**插入(叶子节点)**到叶子节点中.</li><li>当发现**插入(叶子节点)**后, 叶子节点的pair数量等于max_size时进行分裂.</li></ol><p>split(page) 操作<strong>这里不分内部叶子节点</strong></p><ul><li>当前节点是full page,因此可以将当前节点分裂成 (左子节点 half full, 新父节点 , half full)</li><li>其中新父节点的值是左子节点的最后一个.</li><li>新父节点 需要 <strong>插入(内部节点)</strong> 到原来的父节点中.<ul><li><strong>插入(内部节点)前</strong>, 要判断 <strong>原父节点的孩子数量是否等于max_size</strong></li><li>如果等于, 则先<strong>将原父节点分裂</strong> 后.</li><li>再执行当前的**插入(内部节点)**操作.</li></ul></li><li>特殊的. 如果page是根节点, 即没有原父亲节点.<ul><li>则将 根节点 更新成新父节点后, 返回即可.</li></ul></li></ul><p><strong>插入(内部节点)</strong> : 因为在插入前已经处理好了插入操作的合法性,因此直接插入即可.</p><p>伪代码:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>SetRoot</span><span class=p>(</span><span class=n>page_id</span><span class=p>){</span>
</span></span><span class=line><span class=cl> <span class=n>root_page_id</span> <span class=o>=</span> <span class=n>page_id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//一定要调用 UpdateRootPageId
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>split</span><span class=p>(</span><span class=n>page</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>//分裂出下面三个节点
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>left_page</span><span class=p>,</span> <span class=n>right_page</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>new_parent_page</span><span class=p>;</span><span class=c1>//key为左节点的最后一个key, value为指向左节点的指针
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=c1>//判断是否为根节点
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=n>page</span><span class=p>.</span><span class=n>type</span> <span class=o>==</span> <span class=n>rootType</span><span class=p>){</span>
</span></span><span class=line><span class=cl>       <span class=n>SetRoot</span><span class=p>(</span><span class=n>new_parent_page</span><span class=p>.</span><span class=n>page_id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>//获取父亲节点
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>parent_page</span><span class=p>;</span>    
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=p>(</span><span class=n>parent_page</span><span class=p>.</span><span class=n>isFull</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>        <span class=n>split</span><span class=p>(</span><span class=n>parent_page</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>//将new_parent_page 插入到 parent_page中
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>parent_page</span><span class=p>.</span><span class=n>insert</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>Insert</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=n>value</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>//判断是否为空树
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=n>root</span> <span class=o>==</span> <span class=n>valid</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>Page</span> <span class=n>new_page</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Page</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=n>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>SetRoot</span><span class=p>(</span><span class=n>newpage</span><span class=p>.</span><span class=n>page_id</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>//先查找
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Page</span> <span class=n>leaf_page</span> <span class=o>=</span> <span class=n>GetLeaf</span><span class=p>(</span><span class=n>root</span><span class=p>,</span><span class=n>key</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>//直接调用叶子节点的插入
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>leaf_page</span><span class=p>.</span><span class=n>Insert</span><span class=p>(</span><span class=n>leaf_page</span><span class=p>,</span> <span class=n>Page</span> <span class=k>new</span> <span class=n>page</span><span class=p>(</span><span class=n>key</span><span class=p>,</span><span class=n>value</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>LeafPage</span><span class=o>::</span><span class=n>Insert</span><span class=p>(</span><span class=n>Page</span> <span class=n>new_page</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>//直接插入,同时只需要更新指向 new_page 和 new_page的 next
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=c1>//满了就分裂.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=n>isFull</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>        <span class=n>split</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>InternalPage</span><span class=o>::</span><span class=n>Insert</span><span class=p>(</span><span class=n>Page</span> <span class=n>new_page</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>//直接插入,但array中key的有效位置是从1开始
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl><span class=p>}</span>  
</span></span><span class=line><span class=cl><span class=c1>//上面代码还需要考虑
</span></span></span><span class=line><span class=cl><span class=c1>//页面的创建和释放
</span></span></span></code></pre></div><h3 id=删除>删除</h3><p>B+树最难的地方。但比起splay来说还是简单太多了。并且因为B+树只有叶子节点存值。在内部节点的删除上比B树简单了很多。</p><p>删除的核心操作：</p><ol><li>叶子节点/内部节点删除元素后;
若小于下限,则按下面的优先级考虑;</li><li>如相邻兄弟结点丰满（即 元素个数 大于 下限+1），则向兄弟结点<strong>借</strong>一个元素。（具体是 先从相邻方向上的父亲结点变成借来的元素左右(这里具体要看借左边还是右边)，而后对应相邻的兄弟补回这个元素）。否则：</li><li>与相邻的兄弟结点 <strong>合并</strong></li></ol><p>父亲节点被删除后, 需要继续执行上面的操作.</p><p>叶子节点和内部节点的差异:</p><ul><li>借<ul><li>内部节点和B树操作一样, 先<strong>从相邻方向上的父亲结点拿一个元素</strong>，而后<strong>对应相邻的兄弟补回这个元素</strong></li><li>叶子节点的父亲只是索引节点,因此 把兄弟节点的元素拿来后, 父亲节点的值根据 从左边/右边拿 变成相应的合法的值即可.</li><li>借的操作都<strong>不会涉及父亲节点的删除</strong></li></ul></li><li>合并<ul><li>内部节点和B树操作一样, 将兄弟和父亲节点一起合并. (也相当于删除了父亲节点)下限+(下限-1) + 1 等于上限,因此合法</li><li>叶子节点是 两个叶子节点合并后直接删除父亲节点.</li></ul></li></ul><p>特殊地,如果删除的是根节点的元素，且根结点只有一个元素，则<strong>下降一层</strong>退出。</p><ul><li>因为只有一个待删除的元素，说明目前只有一个儿子结点（刚刚合并了）。</li><li>直接将儿子结点作为根节点。</li></ul><p>伪代码</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=c1>//tree的Remove操作
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Remove</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>//1.判断是否为空
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=n>empty</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>//返回
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>//2.找到叶子结点，并在叶子结点中删除该元素
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>leaf_page</span><span class=p>;</span><span class=c1>//找到叶子节点
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//TODO 删除元素
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=c1>//3.判断叶子结点元素个数是是否小于下限
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span> <span class=err>小于</span> <span class=err>下限</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>UnderFlow</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>Underflow</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>            <span class=c1>//3.0 判断是否为根节点
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>if</span><span class=p>(</span><span class=n>IsRoot</span><span class=p>){</span>
</span></span><span class=line><span class=cl>           <span class=c1>//根节点的下限是1.说明应该减少一层.
</span></span></span><span class=line><span class=cl><span class=c1></span>            
</span></span><span class=line><span class=cl>           <span class=c1>//3.0.1a找到根节点唯一的子节点.
</span></span></span><span class=line><span class=cl><span class=c1></span>           <span class=c1>//该子节点变为根节点.
</span></span></span><span class=line><span class=cl><span class=c1></span>            
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>//3.0.1b 根节点没有子节点
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=c1>//直接删除,树变成空树.
</span></span></span><span class=line><span class=cl><span class=c1></span>           <span class=k>return</span> 
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>//3.1a. 找兄弟节点借
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>Borrow</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        	<span class=c1>//3.1a.1a找左兄弟节点借
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span><span class=p>(</span><span class=n>borrow</span><span class=p>(</span><span class=n>left_</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> 
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>//3.1a.1b左兄弟不能借，就找右兄弟节点借
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span><span class=p>(</span><span class=n>borrow</span><span class=p>(</span><span class=n>right_</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> 
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>//3.1b.借失败了，就准备合并
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>union</span><span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=c1>//3.1b.1a 左兄弟结点存在,就找左兄弟节点合并
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span><span class=p>(</span><span class=n>have</span><span class=p>(</span><span class=n>left</span><span class=p>)</span> <span class=o>&amp;&amp;</span> <span class=k>union</span><span class=err>(</span><span class=nc>left_</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> 
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>//3.1b.1b 没有左兄弟节点, 找右兄弟节点合并.(除根节点外肯定至少有一个兄弟节点)
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>if</span><span class=p>(</span><span class=k>union</span><span class=err>(</span><span class=nc>right_</span><span class=p>){</span>
</span></span><span class=line><span class=cl>                <span class=k>return</span> 
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>borrow</span><span class=p>(</span><span class=n>bro_page</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>//如果兄弟节点的 size &lt;= 下限,不能借
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=n>bro_page</span> <span class=n>size</span> <span class=o>&lt;=</span> <span class=err>下限</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>//否则可以借
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=c1>//是叶子结点
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//直接拿 对应兄弟结点最靠近的元素
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>//是内部结点
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=c1>//加入的元素 = 中间父亲结点对应的元素
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//中间父亲结点对应的元素 = 兄弟结点最靠近的元素.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//兄弟结点最靠近的元素删除
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>               
</span></span><span class=line><span class=cl><span class=k>union</span><span class=err>(</span><span class=nc>bro_page</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=c1>//是叶子结点
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//两个结点合并成一个结点
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=c1>//是内部结点
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//好像都是直接把右合并到左就可以.
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=c1>//删除父亲结点中间的元素.
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//如果父亲结点size 小于等于 下限
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>//父亲结点采取下溢操作
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span></code></pre></div></div><time class="mt-12 mb-8 block text-xs text-gray-500 ltr:text-right rtl:text-left dark:text-gray-400" datetime=2024-03-06T00:00:00.000Z><span>Last updated on</span>
Mar 6, 2024</time><div class="container mx-auto prose prose-slate lg:prose-xl dark:prose-invert mt-5"><div class="max-w-prose print:hidden"><div class="flex justify-center"><a class="no-underline bg-primary-100 hover:bg-primary-300 text-primary-800 text-xs font-medium mr-2 px-2.5 py-0.5 lg:px-5 lg:py-2 rounded dark:bg-primary-900 dark:hover:bg-primary-700 dark:text-primary-300" href=/tag/cmu-15445/>Cmu-15445</a></div><section class="flex flex-row flex-wrap justify-center pt-4 text-xl"><a target=_blank rel=noopener class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fysyyhhh.github.io%2Fblog%2Fp0-c-primerhttps%2F15445.courses.cs.cmu.edu%2Ffall2022%2Fproject0%2F&amp;text=P0+%5BC%2B%2B+Primer%5D%28https%3A%2F%2F15445.courses.cs.cmu.edu%2Ffall2022%2Fproject0%2F%29" title=X aria-label=X id=share-link-x><svg style="height:1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentcolor" d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8L200.7 275.5 26.8 48H172.4L272.9 180.9 389.2 48zM364.4 421.8h39.1L151.1 88h-42L364.4 421.8z"/></svg>
</a><a target=_blank rel=noopener class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fysyyhhh.github.io%2Fblog%2Fp0-c-primerhttps%2F15445.courses.cs.cmu.edu%2Ffall2022%2Fproject0%2F&amp;t=P0+%5BC%2B%2B+Primer%5D%28https%3A%2F%2F15445.courses.cs.cmu.edu%2Ffall2022%2Fproject0%2F%29" title=Facebook aria-label=Facebook id=share-link-facebook><svg style="height:1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentcolor" d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55.0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z"/></svg>
</a><a target=_blank rel=noopener class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="mailto:?subject=P0%20%5BC%2B%2B%20Primer%5D%28https%3A%2F%2F15445.courses.cs.cmu.edu%2Ffall2022%2Fproject0%2F%29&amp;body=https%3A%2F%2Fysyyhhh.github.io%2Fblog%2Fp0-c-primerhttps%2F15445.courses.cs.cmu.edu%2Ffall2022%2Fproject0%2F" title=Email aria-label=Email id=share-link-email><svg style="height:1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="currentcolor" stroke-linecap="round" stroke-width="1.5" d="M16.5 12a4.5 4.5.0 11-9 0 4.5 4.5.0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"/></svg>
</a><a target=_blank rel=noopener class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="https://www.linkedin.com/shareArticle?url=https%3A%2F%2Fysyyhhh.github.io%2Fblog%2Fp0-c-primerhttps%2F15445.courses.cs.cmu.edu%2Ffall2022%2Fproject0%2F&amp;title=P0+%5BC%2B%2B+Primer%5D%28https%3A%2F%2F15445.courses.cs.cmu.edu%2Ffall2022%2Fproject0%2F%29" title=LinkedIn aria-label=LinkedIn id=share-link-linkedin><svg style="height:1em" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path fill="currentcolor" d="M416 32H31.9C14.3 32 0 46.5.0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6.0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3.0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2.0 38.5 17.3 38.5 38.5.0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6.0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2.0 79.7 44.3 79.7 101.9V416z"/></svg>
</a><a target=_blank rel=noopener class="m-1 rounded-md bg-neutral-300 p-1.5 text-neutral-700 hover:bg-primary-500 hover:text-neutral-300 dark:bg-neutral-700 dark:text-neutral-300 dark:hover:bg-primary-400 dark:hover:text-neutral-800" href="whatsapp://send?text=P0+%5BC%2B%2B+Primer%5D%28https%3A%2F%2F15445.courses.cs.cmu.edu%2Ffall2022%2Fproject0%2F%29%20https%3A%2F%2Fysyyhhh.github.io%2Fblog%2Fp0-c-primerhttps%2F15445.courses.cs.cmu.edu%2Ffall2022%2Fproject0%2F" title=WhatsApp aria-label=WhatsApp id=share-link-whatsapp><svg style="height:1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" fill="currentcolor"><path d="m187.58 144.84-32-16a8 8 0 00-8 .5l-14.69 9.8a40.55 40.55.0 01-16-16l9.8-14.69a8 8 0 00.5-8l-16-32A8 8 0 00104 64a40 40 0 00-40 40 88.1 88.1.0 0088 88 40 40 0 0040-40 8 8 0 00-4.42-7.16zM152 176a72.08 72.08.0 01-72-72 24 24 0 0119.29-23.54l11.48 23L101 118a8 8 0 00-.73 7.51 56.47 56.47.0 0030.15 30.15A8 8 0 00138 155l14.61-9.74 23 11.48A24 24 0 01152 176zM128 24A104 104 0 0036.18 176.88l-11.35 34.05a16 16 0 0020.24 20.24l34.05-11.35A104 104 0 10128 24zm0 192a87.87 87.87.0 01-44.06-11.81 8 8 0 00-6.54-.67L40 216l12.47-37.4a8 8 0 00-.66-6.54A88 88 0 11128 216z"/></svg></a></section><div class="flex pt-12 pb-4"><img class="mr-4 h-24 w-24 rounded-full" width=96 height=96 alt=吴德盛 src=/author/%E5%90%B4%E5%BE%B7%E7%9B%9B/avatar_hu8c235efe8ad42cda24465160608bed78_698203_192x192_fill_lanczos_center_3.png loading=lazy><div class=place-self-center><div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Authors</div><div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">吴德盛</div><div class="text-sm font-bold text-neutral-700 dark:text-neutral-300">Software Engineering Master Student</div><div class="text-2xl sm:text-lg pt-1"><div class="flex flex-wrap text-neutral-500 dark:text-neutral-300"><a class="pr-2 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=mailto:ysyyhhhhh@gmail.com aria-label=At-Symbol><svg style="height:1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" stroke="currentcolor" stroke-linecap="round" stroke-width="1.5" d="M16.5 12a4.5 4.5.0 11-9 0 4.5 4.5.0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"/></svg></a>
<a class="pr-2 transition-transform hover:scale-125 hover:text-primary-700 dark:hover:text-primary-400" style=will-change:transform href=https://github.com/ysyyhhh target=_blank rel=noopener rel="me noopener noreferrer" aria-label=Brands/Github><svg style="height:1em" fill="currentcolor" viewBox="3 3 18 18"><path d="M12 3C7.0275 3 3 7.12937 3 12.2276c0 4.0833 2.57625 7.5321 6.15374 8.7548C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441 9.77249 20.3249 9.76125 19.5982 9.76125 18.8254 7.5 19.2522 6.915 18.2602 6.735 17.7412 6.63375 17.4759 6.19499 16.6569 5.8125 16.4378 5.4975 16.2647 5.0475 15.838 5.80124 15.8264 6.51 15.8149 7.01625 16.4954 7.18499 16.7723 7.99499 18.1679 9.28875 17.7758 9.80625 17.5335 9.885 16.9337 10.1212 16.53 10.38 16.2993 8.3775 16.0687 6.285 15.2728 6.285 11.7432c0-1.0035.34875-1.834.92249-2.47994C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794c0 0 .753749999999999-.24223 2.47499.94583.72001-.20762 1.48501-.31143 2.25001-.31143C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377c1.7212-1.19959 2.475-.94583 2.475-.94583C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326 17.4113 9.9092 17.76 10.7281 17.76 11.7432c0 3.5411-2.1037 4.3255-4.1063 4.5561C13.98 16.5877 14.2613 17.1414 14.2613 18.0065 14.2613 19.2407 14.25 20.2326 14.25 20.5441 14.25 20.7863 14.4188 21.0746 14.8688 20.9824 16.6554 20.364 18.2079 19.1866 19.3078 17.6162c1.0999-1.5705 1.6917-3.4551 1.6922-5.3886C21 7.12937 16.9725 3 12 3z"/></svg></a></div></div></div></div><div class="pt-1 no-prose w-full"><hr class="border-dotted border-neutral-300 dark:border-neutral-600"><div class="flex flex-col md:flex-row flex-nowrap justify-between gap-5 pt-2"><div><a class="group flex no-underline" href=/blog/norbert%E4%BD%BF%E7%94%A8%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0%E6%94%B9%E8%BF%9B%E9%9C%80%E6%B1%82%E5%88%86%E7%B1%BB%E4%BB%BB%E5%8A%A1/><span class="mt-[-0.3rem] me-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class="ltr:inline rtl:hidden">&larr;</span></span>
<span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">NoRBERT：使用迁移学习改进需求分类任务</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">Mar 1, 2024</span></span></a></div><div><a class="group flex text-right no-underline" href=/blog/why-parallelism-why-efficiency/><span class="flex flex-col"><span class="mt-[0.1rem] leading-6 group-hover:underline group-hover:decoration-primary-500">Why parallelism? Why efficiency?</span>
<span class="mt-[0.1rem] text-xs text-neutral-500 dark:text-neutral-400">Mar 1, 2024
</span></span><span class="mt-[-0.3rem] ms-2 text-neutral-700 transition-transform group-hover:-translate-x-[2px] group-hover:text-primary-600 dark:text-neutral dark:group-hover:text-primary-400"><span class=ltr:inline>&rarr;</span></span></a></div></div></div></div></div></main></article></div></div><div class=page-footer><footer class="container mx-auto flex flex-col justify-items-center text-sm leading-6 mt-24 mb-4 text-slate-700 dark:text-slate-200"><p class="powered-by text-center">Published with <a href="https://hugoblox.com/?utm_campaign=poweredby" target=_blank rel=noopener>Hugo Blox Builder</a> — the free, <a href=https://github.com/HugoBlox/hugo-blox-builder target=_blank rel=noopener>open source</a> website builder that empowers creators.</p></footer></div></body></html>