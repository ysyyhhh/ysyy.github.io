[{"content":"view Run Run python file in terminal: Ctrl + F5\n","permalink":"/en/posts/tools/vscode%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%85%A8/","summary":"view Run Run python file in terminal: Ctrl + F5","title":"å·¥ä½œå­¦ä¹ æµ(vscodeå¿«æ·é”®)"},{"content":"å‚è€ƒ\nä»»åŠ¡\næç¤º: éœ€è¦å…ˆçœ‹CMU15-418/CS149çš„L2å†å®ŒæˆPro1\nä»»åŠ¡æè¿°: ç”¨å¤šçº¿ç¨‹ç”»mandelbrot fractal.\nä»£ç ä¸­ç»™å‡ºäº†ä¸²è¡Œçš„å®ç°, ä½ éœ€è¦å®ç°å¤šçº¿ç¨‹çš„ç‰ˆæœ¬.\nå¤šçº¿ç¨‹ç‰ˆæœ¬ä¸­åªéœ€è¦ä¿®æ”¹ workerThreadStartå‡½æ•°. ä¸éœ€è¦æ‰‹åŠ¨åˆ›å»ºçº¿ç¨‹, ä¹Ÿä¸éœ€è¦æ‰‹åŠ¨joinçº¿ç¨‹. ç›´æ¥è°ƒç”¨mandelbrotThread().\n1.1 \u0026amp; 1.2, è®¡ç®—åœ¨2,3,4,5,6,7,8,16,32ä¸ªçº¿ç¨‹ä¸‹çš„åŠ é€Ÿæ¯” ç¼–å†™å¹¶è§‚å¯Ÿ workerThreadStartå‡½æ•°çš„å®ç°:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 345void workerThreadStart(WorkerArgs *const args) { // TODO FOR CS149 STUDENTS: Implement the body of the worker // thread here. Each thread should make a call to mandelbrotSerial() // to compute a part of the output image. For example, in a // program that uses two threads, thread 0 could compute the top // half of the image and thread 1 could compute the bottom half. // printf(\u0026#34;Hello world from thread %d\\n\u0026#34;, args-\u0026gt;threadId); double startTime = CycleTimer::currentSeconds(); // æ¯ä¸ªçº¿ç¨‹è´Ÿè´£çš„è¡Œæ•°(é™¤ä¸å°½çš„éƒ¨åˆ†ç”±æœ€åä¸€ä¸ªçº¿ç¨‹è´Ÿè´£) int height = args-\u0026gt;height / args-\u0026gt;numThreads; int startRow = args-\u0026gt;threadId * height; int numRows = height; if (args-\u0026gt;threadId == args-\u0026gt;numThreads - 1) { // å¦‚æœæ˜¯æœ€åä¸€ä¸ªçº¿ç¨‹ï¼Œé‚£ä¹ˆå°±è¦æŠŠé™¤ä¸å°½çš„éƒ¨åˆ†ä¹Ÿç®—ä¸Š numRows = height + args-\u0026gt;height % args-\u0026gt;numThreads; } printf(\u0026#34;Thread %d startRow: %d, numRows: %d\\n\u0026#34;, args-\u0026gt;threadId, startRow, numRows); mandelbrotSerial(args-\u0026gt;x0, args-\u0026gt;y0, args-\u0026gt;x1, args-\u0026gt;y1, args-\u0026gt;width, args-\u0026gt;height, startRow, numRows, args-\u0026gt;maxIterations, args-\u0026gt;output); double endTime = CycleTimer::currentSeconds(); printf(\u0026#34;Thread %d time: %.3f ms\\n\u0026#34;, args-\u0026gt;threadId, (endTime - startTime) * 1000); } ç»“æœ:\nçº¿ç¨‹æ•° åŠ é€Ÿæ¯” 2 1.97 3 1.63 4 2.31 5 2.37 6 3.08 7 3.15 8 3.74 16 5.14 å¯ä»¥è§‚å¯Ÿåˆ°ï¼ŒåŠ é€Ÿæ¯”å’Œçº¿ç¨‹æ•°å¹¶ä¸æ˜¯çº¿æ€§ç›¸å…³.\nçŒœæµ‹åŸå›  çŒœæµ‹å¯èƒ½çš„åŸå› æœ‰:\nçº¿ç¨‹é€šä¿¡çš„å¼€é”€ æ¯ä¸ªçº¿ç¨‹åˆ†é…çš„ä»»åŠ¡ä¸å‡åŒ€ 1.3 æŸ¥çœ‹æ¯ä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´,éªŒè¯çŒœæƒ³ å½“çº¿ç¨‹æ•°ä¸º4æ—¶, æ¯ä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´å¦‚ä¸‹: Thread 0 time: 63.974 ms Thread 3 time: 65.563 ms Thread 2 time: 259.972 ms Thread 1 time: 260.669 ms\nå½“çº¿ç¨‹æ•°ä¸º8æ—¶, æ¯ä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´å¦‚ä¸‹: Thread 0 time: 13.702 ms Thread 7 time: 16.831 ms Thread 1 time: 57.324 ms Thread 6 time: 61.069 ms Thread 5 time: 113.431 ms Thread 2 time: 115.753 ms Thread 4 time: 164.736 ms Thread 3 time: 166.306 ms\nå¯ä»¥çœ‹åˆ°,ä¸­é—´çº¿ç¨‹åˆ†é…çš„ä»»åŠ¡æ›´å¤š,æ‰§è¡Œæ—¶é—´æ›´é•¿. å› æ­¤åœ¨å¢åŠ çº¿ç¨‹æ•°æ—¶,åŠ é€Ÿæ¯”å¹¶ä¸æ˜¯çº¿æ€§å¢åŠ çš„.\n1.4 ä»»åŠ¡æè¿°:\nè§£å†³ä¸Šé¢çš„é—®é¢˜,ä½¿å¾—åŠ é€Ÿæ¯”æ›´æ¥è¿‘çº¿æ€§. å¦‚: 8çº¿ç¨‹æ—¶çš„åŠ é€Ÿæ¯”éœ€è¦åœ¨7~8ä¹‹é—´. è§£å†³æ–¹æ³•éœ€è¦å…·æœ‰é€‚ç”¨æ€§, é€‚ç”¨æ‰€æœ‰çš„çº¿ç¨‹æ•°. tips: æœ‰ä¸€ä¸ªéå¸¸ç®€å•çš„é™æ€èµ‹å€¼å¯ä»¥å®ç°è¿™ä¸ªç›®æ ‡ï¼Œå¹¶ä¸”çº¿ç¨‹ä¹‹é—´ä¸éœ€è¦é€šä¿¡/åŒæ­¥.\nè§£å†³æ–¹æ¡ˆ æ€è·¯: æ ¹æ®ä»£ç å¯çŸ¥, æ¯è¡Œçš„è®¡ç®—æ˜¯ç‹¬ç«‹çš„, å› æ­¤å¯ä»¥å°†æ¯è¡Œåˆ†é…ç»™ä¸åŒçš„çº¿ç¨‹. ä½†ç”±ä¸Šé¢çš„å®éªŒå¯çŸ¥,ä¸­é—´è¡Œçš„è®¡ç®—é‡æ¯”è¾ƒå¤§.\nå› æ­¤æˆ‘ä»¬ä¸åº”è¯¥ç›´æ¥å¹³å‡åˆ‡åˆ†è¡Œ, è€Œæ˜¯ä»¥çº¿ç¨‹æ•°é‡ä¸ºæ­¥é•¿,çº¿ç¨‹äº¤å‰ä¾æ¬¡åˆ†é…è¡Œ. å³ ç¬¬iä¸ªçº¿ç¨‹åˆ†é…k*n+iè¡Œ.\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 void workerThreadStart(WorkerArgs *const args) { // TODO FOR CS149 STUDENTS: Implement the body of the worker // thread here. Each thread should make a call to mandelbrotSerial() // to compute a part of the output image. For example, in a // program that uses two threads, thread 0 could compute the top // half of the image and thread 1 could compute the bottom half. // printf(\u0026#34;Hello world from thread %d\\n\u0026#34;, args-\u0026gt;threadId); double startTime = CycleTimer::currentSeconds(); /* æ–¹æ¡ˆ1 // æ¯ä¸ªçº¿ç¨‹è´Ÿè´£çš„è¡Œæ•°(é™¤ä¸å°½çš„éƒ¨åˆ†ç”±æœ€åä¸€ä¸ªçº¿ç¨‹è´Ÿè´£) int baseHeight = args-\u0026gt;height / args-\u0026gt;numThreads; int startRow = args-\u0026gt;threadId * baseHeight; int numRows = baseHeight; int yu = args-\u0026gt;height % args-\u0026gt;numThreads; // å‡åŒ€åˆ†é…å‰©ä½™è¡Œ if (args-\u0026gt;threadId \u0026lt; yu) { numRows++; } startRow += std::min(args-\u0026gt;threadId, yu); printf(\u0026#34;Thread %d startRow: %d, numRows: %d\\n\u0026#34;, args-\u0026gt;threadId, startRow, numRows); mandelbrotSerial(args-\u0026gt;x0, args-\u0026gt;y0, args-\u0026gt;x1, args-\u0026gt;y1, args-\u0026gt;width, args-\u0026gt;height, startRow, numRows, args-\u0026gt;maxIterations, args-\u0026gt;output); */ // æ–¹æ¡ˆ2, ä¾æ¬¡åˆ†é…è¡Œ int height = args-\u0026gt;height; for (int i = args-\u0026gt;threadId; i \u0026lt; height; i += args-\u0026gt;numThreads) { mandelbrotSerial(args-\u0026gt;x0, args-\u0026gt;y0, args-\u0026gt;x1, args-\u0026gt;y1, args-\u0026gt;width, args-\u0026gt;height, i, 1, args-\u0026gt;maxIterations, args-\u0026gt;output); } double endTime = CycleTimer::currentSeconds(); printf(\u0026#34;Thread %d time: %.3f ms\\n\u0026#34;, args-\u0026gt;threadId, (endTime - startTime) * 1000); } è¾“å‡ºç»“æœ:\nThread 3 time: 88.842 ms Thread 1 time: 89.680 ms Thread 0 time: 89.717 ms Thread 7 time: 90.280 ms Thread 5 time: 90.715 ms Thread 6 time: 90.743 ms Thread 2 time: 91.049 ms Thread 4 time: 92.982 ms [mandelbrot thread]: [93.318] ms Wrote image file mandelbrot-thread.ppm (7.10x speedup from 8 threads)\nä¸Šé¢çš„è§£å†³æ–¹æ¡ˆä½¿å¾—æ¯ä¸ªçº¿ç¨‹çš„æ‰§è¡Œæ—¶é—´åŸºæœ¬ç›¸åŒ,å› æ­¤åŠ é€Ÿæ¯”æ¥è¿‘çº¿æ€§. åœ¨8çº¿ç¨‹æ—¶,åŠ é€Ÿæ¯”ä¸º7.1.\n1.5 16çº¿ç¨‹å’Œ8çº¿ç¨‹çš„åŠ é€Ÿæ¯” ç°åœ¨16çº¿ç¨‹æ˜¯å¦æ˜æ˜¾ä¼˜äº8çº¿ç¨‹? ç»™å‡ºæ˜¯æˆ–å¦çš„åŸå› . (6.45x speedup from 16 threads) 16çº¿ç¨‹å¹¶æ²¡æœ‰æ˜æ˜¾ç”±äº8çº¿ç¨‹,åè€Œè¿˜æ›´æ…¢. åŸå› :\nç”µè„‘æœ¬èº«æ˜¯4æ ¸, è¶…çº¿ç¨‹åæ˜¯8çº¿ç¨‹. 16çº¿ç¨‹æ—¶çº¿ç¨‹åˆ‡æ¢åè€Œå¯¼è‡´å¼€é”€å¢åŠ . æ€»ç»“ pro1çš„ç›®çš„æ˜¯ä¸ºäº†è®¤è¯†åˆ°å¹¶è¡Œè®¡ç®—çš„overhead, ä»¥åŠå¤šçº¿ç¨‹åœ¨è®¡ç®—ä¸Šä¹Ÿåº”è¯¥æ˜¯ä¾æ¬¡äº¤æ›¿åˆ†é…çš„. ä¸èƒ½ç®€å•çš„å¹³å‡åˆ†é….\npro1æ˜¯é€šè¿‡å‚ç›´åˆ†å‰²æ¥å®ç°å¹¶è¡Œè®¡ç®—. è€Œå‘é‡åŒ–æ˜¯é€šè¿‡æ°´å¹³åˆ†å‰²æ¥å®ç°å¹¶è¡Œè®¡ç®—.\nprogram-2-vectorizing-code-using-simd-intrinsics å‰æ: L2 ä»»åŠ¡æè¿°ï¼š ä½¿ç”¨SIMDæŒ‡ä»¤(CS149intrin.hæä¾›çš„),æ¥å®ç°clampedExpVectorå‡½æ•°.\nç¤ºä¾‹å‡½æ•°:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 void absVector(float* values, float* output, int N) { __cs149_vec_float x; __cs149_vec_float result; __cs149_vec_float zero = _cs149_vset_float(0.f); __cs149_mask maskAll, maskIsNegative, maskIsNotNegative; // Note: Take a careful look at this loop indexing. This example // code is not guaranteed to work when (N % VECTOR_WIDTH) != 0. // Why is that the case? for (int i=0; i\u0026lt;N; i+=VECTOR_WIDTH) { // All ones maskAll = _cs149_init_ones(); // All zeros maskIsNegative = _cs149_init_ones(0); // Load vector of values from contiguous memory addresses _cs149_vload_float(x, values+i, maskAll); // x = values[i]; // Set mask according to predicate _cs149_vlt_float(maskIsNegative, x, zero, maskAll); // if (x \u0026lt; 0) { // Execute instruction using mask (\u0026#34;if\u0026#34; clause) _cs149_vsub_float(result, zero, x, maskIsNegative); // output[i] = -x; // Inverse maskIsNegative to generate \u0026#34;else\u0026#34; mask maskIsNotNegative = _cs149_mask_not(maskIsNegative); // } else { // Execute instruction (\u0026#34;else\u0026#34; clause) _cs149_vload_float(result, values+i, maskIsNotNegative); // output[i] = x; } // Write results back to memory _cs149_vstore_float(output+i, result, maskAll); } } ç¤ºä¾‹å‡½æ•°absVectorå¹¶ä¸èƒ½é€‚ç”¨äºæ‰€æœ‰æƒ…å†µ,åŸå› å¦‚ä¸‹: å½“n%VECTOR_WIDTH != 0æ—¶, ä¼šè¶Šç•Œ.\n1\u0026amp;2 å®ç°clampedExpVectorå‡½æ•° 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 void clampedExpVector(float *values, int *exponents, float *output, int N) { // // CS149 STUDENTS TODO: Implement your vectorized version of // clampedExpSerial() here. // // Your solution should work for any value of // N and VECTOR_WIDTH, not just when VECTOR_WIDTH divides N // __cs149_vec_float one, nine; __cs149_vec_int zeroInt, oneInt; oneInt = _cs149_vset_int(1); zeroInt = _cs149_vset_int(0); one = _cs149_vset_float(1.f); nine = _cs149_vset_float(9.999999f); for (int i = 0; i \u0026lt; N; i += VECTOR_WIDTH) { __cs149_mask maskAll, maskIsZero, maskIsNotZero; __cs149_vec_float x; __cs149_vec_int y; // All ones maskAll = _cs149_init_ones(); // All zeros maskIsZero = _cs149_init_ones(0); // é˜²æ­¢åœ¨æœ€åä¸€æ¬¡å¾ªç¯æ—¶ï¼Œi+VECTOR_WIDTHè¶…å‡ºN if (i + VECTOR_WIDTH \u0026gt; N) { maskAll = _cs149_init_ones(N - i); } // float x = values[i]; _cs149_vload_float(x, values + i, maskAll); // int y = exponents[i]; _cs149_vload_int(y, exponents + i, maskAll); // if (y == 0) _cs149_veq_int(maskIsZero, y, zeroInt, maskAll); // { // output[i] = 1.f; // } _cs149_vstore_float(output + i, one, maskIsZero); // else maskIsNotZero = _cs149_mask_not(maskIsZero); // æ¶ˆé™¤æœ€åä¸€æ¬¡å¾ªç¯æ—¶ï¼Œi+VECTOR_WIDTHè¶…å‡ºNçš„æƒ…å†µ maskIsNotZero = _cs149_mask_and(maskIsNotZero, maskAll); { // float result = x; __cs149_vec_float result = x; // int count = y - 1; __cs149_vec_int count; _cs149_vsub_int(count, y, oneInt, maskIsNotZero); // å“ªäº›count\u0026gt;0 __cs149_mask countMark; _cs149_vgt_int(countMark, count, zeroInt, maskIsNotZero); // while (count \u0026gt; 0) while (_cs149_cntbits(countMark) \u0026gt; 0) { // result *= x; _cs149_vmult_float(result, result, x, countMark); // count--; _cs149_vsub_int(count, count, oneInt, countMark); // å“ªäº›count\u0026gt;0 _cs149_vgt_int(countMark, count, zeroInt, countMark); } // if (result \u0026gt; 9.999999f) __cs149_mask gtNineMask; _cs149_vgt_float(gtNineMask, result, nine, maskIsNotZero); // { reult = 9.999999f;} _cs149_vmove_float(result, nine, gtNineMask); // output[i] = result; _cs149_vstore_float(output + i, result, maskIsNotZero); } } } é€šè¿‡init_onesæ¥é˜²æ­¢åœ¨æœ‰n%vectorWith!=0æ—¶ è¶Šç•Œ.\nåœ¨æœ€å¼€å§‹çš„maskAllæ—¶è®¾ç½® åœ¨å–åç åä¹Ÿè¦è®¾ç½®ä¸€æ¬¡ countå¾ªç¯: é€šè¿‡è®¾ç½®ä¸€ä¸ªmaskæ¥æ ‡è®°å“ªäº›count\u0026gt;0, ä»è€Œå®ç°å¾ªç¯.\nä¿®æ”¹vectorWidthä¸º2, 4, 8, to 16æ¥å›ç­”: Does the vector utilization increase, decrease or stay the same as VECTOR_WIDTH changes? Why?\nvectorWidthä¸º2æ—¶, ç»“æœå¦‚ä¸‹: ****************** Printing Vector Unit Statistics ******************* Vector Width: 2 Total Vector Instructions: 162728 Vector Utilization: 77.0% Utilized Vector Lanes: 250653 Total Vector Lanes: 325456\nvectorWidthä¸º4æ—¶, ç»“æœå¦‚ä¸‹: ****************** Printing Vector Unit Statistics ******************* Vector Width: 3 Total Vector Instructions: 119440 Vector Utilization: 72.2% Utilized Vector Lanes: 258879 Total Vector Lanes: 358320\nvectorWidthä¸º8æ—¶, ç»“æœå¦‚ä¸‹: ****************** Printing Vector Unit Statistics ******************* Vector Width: 8 Total Vector Instructions: 51628 Vector Utilization: 66.0% Utilized Vector Lanes: 272539 Total Vector Lanes: 413024\nvectorWidthä¸º16æ—¶, ç»“æœå¦‚ä¸‹: ****************** Printing Vector Unit Statistics ******************* Vector Width: 16 Total Vector Instructions: 26968 Vector Utilization: 64.2% Utilized Vector Lanes: 277188 Total Vector Lanes: 431488\nå¯ä»¥å‘ç°, éšç€vectorWidthçš„å¢åŠ , vectorUtilizationä¹Ÿåœ¨å‡å°‘.\nåŸå› : æœ‰å¤šä¸ªæ¡ä»¶è¯­å¥,å½“vectorWidthå¢åŠ æ—¶, æ¯æ¬¡åœ¨æŸä¸ªæ¡ä»¶ä¸­ä¸æ‰§è¡Œçš„æŒ‡ä»¤ä¹Ÿä¼šå¢åŠ .\n3 å®ç°arraySumVector 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 float arraySumVector(float *values, int N) { // // CS149 STUDENTS TODO: Implement your vectorized version of arraySumSerial here // __cs149_vec_float sum = _cs149_vset_float(0.f); for (int i = 0; i \u0026lt; N; i += VECTOR_WIDTH) { __cs149_mask maskAll; __cs149_vec_float x; // All ones maskAll = _cs149_init_ones(); // é˜²æ­¢åœ¨æœ€åä¸€æ¬¡å¾ªç¯æ—¶ï¼Œi+VECTOR_WIDTHè¶…å‡ºN if (i + VECTOR_WIDTH \u0026gt; N) { maskAll = _cs149_init_ones(N - i); } // float x = values[i]; _cs149_vload_float(x, values + i, maskAll); // sum += x; _cs149_vadd_float(sum, sum, x, maskAll); } float result = 0.f; // log2(VECTOR_WIDTH)å†…è§£å†³ for (int i = 0; i \u0026lt; log2(VECTOR_WIDTH); i++) { // ä½¿ç”¨_cs149_hadd_floatå‡½æ•°ï¼Œå°†sumä¸­çš„æ¯ä¸¤ä¸ªå…ƒç´ ç›¸åŠ  // å†ä½¿ç”¨_cs149_interleave_floatå‡½æ•°ï¼Œå°†sumä¸­çš„æ¯ä¸¤ä¸ªå…ƒç´ äº¤å‰æ”¾ç½® // é‡å¤log2(VECTOR_WIDTH)æ¬¡ _cs149_hadd_float(sum, sum); _cs149_interleave_float(sum, sum); } // å°†sumä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ èµ‹å€¼ç»™result result = sum.value[0]; return result; } å‡è®¾VECTOR_WIDTHså§‹ç»ˆæ˜¯Nçš„å› å­.\nå¯ä»¥å®ç°åœ¨O(N/VECTOR_WIDTH + log2(VECTOR_WIDTH))çš„æ—¶é—´å†…å®Œæˆè®¡ç®—.\næœ€åçš„log2å®ç°æ–¹å¼. æç¤ºä¸­ç»™äº†ä¸¤ä¸ªå‡½æ•° hadd: å°†æ¯ä¸¤ä¸ªå…ƒç´ ç›¸åŠ  interleave: å°†æ¯ä¸¤ä¸ªå…ƒç´ äº¤å‰æ”¾ç½®\nå› æ­¤æˆ‘ä»¬å¯ä»¥ç±»ä¼¼ä¸å½’å¹¶æ’åºçš„æ–¹å¼,å°†sumä¸­çš„æ¯ä¸¤ä¸ªå…ƒç´ ç›¸åŠ ,å†å°†æ¯ä¸¤ä¸ªå…ƒç´ äº¤å‰æ”¾ç½®. é‡å¤log2(VECTOR_WIDTH)æ¬¡å,ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯ç»“æœ.\nprogram-3 å‰æ: L3\n","permalink":"/en/posts/cmu-15418618/asst1-performance-analysis-on-a-quad-core-cpu/","summary":"å‚è€ƒ ä»»åŠ¡ æç¤º: éœ€è¦å…ˆçœ‹CMU15-418/CS149çš„L2å†å®ŒæˆPro1 ä»»åŠ¡æè¿°: ç”¨å¤šçº¿ç¨‹ç”»mandelbrot fractal. ä»£ç ä¸­ç»™å‡ºäº†ä¸²è¡Œçš„å®ç°, ä½ ","title":""},{"content":"å¹¶è¡Œç¨‹åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 void sinx(int N, int terms, float* x, float* result) { for (int i = 0; i \u0026lt; N; i++) { float value = x[i]; float number = x[i] * x[i] * x[i]; int sign = -1; int denom = 6; for (int j = 0; j \u0026lt; terms; j++) { value += sign * number / denom; sign *= -1; denom *= (2*j+3)*(2*j+2); number *= x[i] * x[i]; } result[i] = value; } } è½¬æ¢æˆæ±‡ç¼–åå¤§è‡´å¦‚ä¸‹:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 ld r0, addr[r1] mul ri, r0, r0 mul r1, r1, r0 å¯ä»¥çœ‹åˆ°æ¯æ¬¡å¾ªç¯éƒ½æ˜¯ç‹¬ç«‹çš„ã€‚ å¯¹äºæœ€ç®€å•çš„æ˜¯é¡ºåºæ‰§è¡Œã€‚ é€šè¿‡è¶…çº¿ç¨‹(è¶…æ ‡é‡å¤„ç†å™¨å…·æœ‰ä»å•ä¸ªæŒ‡ä»¤æµä¸­æå–å¤šä¸ªæŒ‡ä»¤çš„èƒ½åŠ›)å¯ä»¥æé«˜æ€§èƒ½ã€‚æœ‰æ—¶ç§°æŒ‡ä»¤çº§å¹¶è¡Œæ€§ã€‚(ILP, Instruction Level Parallelism) ä½†åœ¨è¿™äº›æ±‡ç¼–æŒ‡ä»¤ä¸­å¿…é¡»é¡ºåºæ‰§è¡Œã€‚ å› æ­¤å®ç°æŒ‡ä»¤çº§å¹¶è¡Œæ€§æ˜¯ä¸€ä¸ªæŒ‘æˆ˜ã€‚ ä½†å³ä½¿æ˜¯çº¯é¡ºåºæ‰§è¡Œçš„ä»£ç ,ä¹Ÿæœ‰å¾ˆå¤šæ–¹å¼ä½¿å…¶è¿è¡Œæ›´å¿«(åŸºäºå†™ä»£ç çš„æ–¹å¼å’Œç¼–è¯‘å™¨çš„æ™ºèƒ½ç¨‹åº¦). Pentium 4 æ¯”å¦‚å…ˆå–å¤šæ¡æŒ‡ä»¤ç­‰. (æœ‰ä¸ªé»‘åŒ£å­ä¼šé¢„æµ‹åˆ†æ”¯,é¢„æµ‹é”™è¯¯çš„è¯å°±ä¼šæ¸…ç©ºæµæ°´çº¿,æµªè´¹æ—¶é—´) è§£å†³æ–¹æ³•: 1. é€šè¿‡pthreadç¼–å†™å¹¶è¡Œæ€§çš„ç¨‹åº 2. å‡è®¾æœ‰ä¸€ç§è¯­è¨€å¯ä»¥è¡¨ç¤ºå¹¶è¡Œæ€§,ç¼–è¯‘å™¨å¯ä»¥è‡ªåŠ¨å¹¶è¡ŒåŒ–ç¨‹åº å¦‚: forall(int i from 0 to n-1){} è‡ªåŠ¨å¹¶è¡ŒåŒ–å¯èƒ½çš„è§£å†³æ–¹æ³•: 1. ç›´æ¥åˆ†ä¸ºkä¸ªçº¿ç¨‹,æ¯ä¸ªçº¿ç¨‹å¤„ç†n/kä¸ªå¾ªç¯. ç„¶åå°†ç»“æœåˆå¹¶ 2. åœ¨ç¡¬ä»¶ä¸Šæ‰§è¡Œ. æœ‰ä¸€å †æ€§èƒ½è¾ƒä½ä½†å…·æœ‰å¹¶è¡Œæ€§çš„å¤„ç†å™¨æ—¶, ä¹Ÿéœ€è¦æ›´å¤šç”µåŠ›/æ—¶é—´æ¥é©±åŠ¨å¾ˆå¤šä¿¡å·ä»ä¸€ç«¯åˆ°å¦ä¸€ç«¯. ## CPU \u0026amp;\u0026amp; GPU GPUå°†æ ¸å¿ƒçš„æ¦‚å¿µå¸¦åˆ°äº†æè‡´, æŠ›å¼ƒäº†æ‰€æœ‰çš„åˆ†æ”¯é¢„æµ‹, åªæ˜¯æ§åˆ¶é€»è¾‘è€Œä¸å®Œæˆè®¡ç®—. å¯¹äºä¸Šé¢çš„ç¨‹åºæœ‰å‚ç›´å’Œæ°´å¹³ä¸¤ç§åˆ†å‰²æ–¹å¼: - å‚ç›´: æ¯ä¸ªçº¿ç¨‹å¤„ç†ä¸€ä¸ªå¾ªç¯ - æ°´å¹³: åŒæ—¶å¤„ç†å¤šä¸ªå¾ªç¯, å¦‚å…ˆåŒæ—¶è¿›è¡Œæ‰€æœ‰çš„ç¬¬ä¸€ä¸ªä¹˜æ³•... ## SIMD Single Instruction Multiple Data å‡è®¾æˆ‘æ­£åœ¨æ‰§è¡Œçš„å¤šæ¬¡æ“ä½œä¹‹é—´æ²¡æœ‰ä¾èµ–å…³ç³»,éƒ½èƒ½å¤Ÿå¹¶è¡Œè¿è¡Œ. a single instruction is applied to multiple data elements simultaneously. å³: åŒæ—¶å¯¹8ä¸ªæ•°å€¼å’Œå¦ä¸€ä¸ªåœ°æ–¹çš„8ä¸ªæ•°å€¼å–å‡ºå¹¶è¿›è¡ŒåŠ æ³•. æœ‰æ—¶è¿™äº›æ•°å€¼å¯ä»¥è¢«ç§°ä½œå‘é‡. ä½¿ç”¨AVX intrinsicsçš„å‘é‡åŒ–ç¨‹åº: ```c++ void sinx(int N, int terms, float* x, float* result) { for (int i = 0; i \u0026lt; N; i+=8) { __m256 origx = _mm256_load_ps(\u0026amp;x[i]); __m256 value = origx; __m256 number = _mm256_mul_ps(origx, _mm256_mul_ps(origx, origx)); float sign = -1; __m256 denom = _mm256_set1_ps(6); for (int j = 0; j \u0026lt; terms; j++) { //value += sign * number / denom; __m256 tmp = _mm256_div_ps(number, denom); tmp = _mm256_mul_ps(tmp, _mm256_set1_ps(sign)); value = _mm256_add_ps(value, tmp); sign *= -1; //denom *= (2*j+3)*(2*j+2); denom = _mm256_mul_ps(denom, _mm256_set1_ps((2*j+3)*(2*j+2))); //number *= x[i] * x[i]; number = _mm256_mul_ps(number, _mm256_mul_ps(origx, origx)); } _mm256_store_ps(\u0026amp;result[i], value); //result[i] = value; } } ç¼–è¯‘æˆæ±‡ç¼–åå¤§è‡´å¦‚ä¸‹:\n1 2 3 4 5 6 7 vloadps xmm0, addr[r1] vmulps xmm1, xmm0, xmm0 vmulps xmm2, xmm1, xmm0 ... ... ... vstoreps addr[xmm2], xmm0 AVXä»£è¡¨é«˜çº§çŸ¢é‡æ‰©å±•, 256ä»£è¡¨æ¯æ¬¡å¯ä»¥å¤„ç†256ä½çš„æ•°æ®, ä¹Ÿå°±æ˜¯8ä¸ªfloat. æœ‰å¤šä¸ªç‰ˆæœ¬:\n1 2 3 AVX: 128ä½ = 4 * 4 * 8 = 32å­—èŠ‚ AVX2: 256ä½ = 8 * 4 * 8 = 32å­—èŠ‚ AVX512: 512ä½ = 16 * 4 * 8 = 64å­—èŠ‚ XMMå¯„å­˜å™¨æ˜¯ç‰¹æ®Šçš„32å­—èŠ‚ 256ä½å¯„å­˜å™¨, æœ‰16ä¸ª, ä»xmm0åˆ°xmm15. ç”¨äºæ”¯æŒvectorized SIMDæŒ‡ä»¤.\né‚£ä¹ˆæœ‰æ²¡æœ‰åŠæ³•è®©ç¼–è¯‘å™¨è‡ªåŠ¨å°†ä»£ç å‘é‡åŒ–å‘¢?\næœ‰,GCCçš„-O3é€‰é¡¹å¯ä»¥è‡ªåŠ¨å‘é‡åŒ–ä»£ç . ä½†åªæœ‰éå¸¸ç»“æ„åŒ–,ç²¾å¿ƒç¼–å†™çš„ä»£ç æ‰èƒ½è¢«è‡ªåŠ¨å‘é‡åŒ–.\næ¡ä»¶ å¦‚æœåŠ å…¥æ¡ä»¶åˆ¤æ–­,å¦‚ä½•å‘é‡åŒ–?\n1 2 3 4 5 if(x \u0026lt; 0){ x = -x; }else{ x = x; } SIMDå¯èƒ½çš„åšæ³•: è®¾ç½®ä¸€ä¸ªæ©ç , ç”¨äºæ ‡è®°å“ªäº›å…ƒç´ éœ€è¦æ‰§è¡Œå“ªäº›ä¸éœ€è¦æ‰§è¡Œ.\n1 2 3 4 x \u0026lt; 0: 1 1 0 0 1 0 0 0 x = -x: 1 1 0 0 1 0 0 0 ç¿»è½¬: 0 0 1 1 0 1 1 1 x = x: 0 0 1 1 0 1 1 1 ä½†å¤§å¤šæ—¶å€™åªä¿ç•™äº†ä¸€åŠçš„æ•ˆç‡,å› ä¸ºæ¯æ¬¡æœ‰å¯èƒ½åªæœ‰ä¸€åŠçš„æ•°æ®éœ€è¦æ‰§è¡Œ. ä¸è¿‡è¿™å¾ˆå¥½çš„ä¿è¯äº†ä¸€è‡´æ€§,å› ä¸ºåˆ†æ”¯ç»“æŸååˆå›åˆ°äº†åŒä¸€ä¸ªæ‰§è¡Œè·¯å¾„. å³ä¿æŒä¸€è‡´æ€§,è¿œç¦»åˆ†æ­§.\ncoherent execution: æ‰€æœ‰çš„çº¿ç¨‹éƒ½æ‰§è¡Œç›¸åŒçš„æŒ‡ä»¤.\ndivergent: a lack of instruction stream coherence.\nå¯¹äºç”Ÿæˆè¿™äº›çŸ¢é‡æ“ä½œ,è¦ä¹ˆæœ‰èªæ˜çš„ç¼–è¯‘å™¨,è¦ä¹ˆå°±æ˜¯æœ‰è€å¿ƒçš„ç¨‹åºå‘˜.\nSIMD execution on many modern GPUs SPMD: Single Program Multiple Data\nGPUç»™çš„ä¸æ˜¯SIMD,è€Œæ˜¯SPMD. å•ä¸ªç¨‹åº,å¤šä¸ªæ•°æ®. æ„å‘³ç€ç¨‹åºçš„ä¸åŒéƒ¨åˆ†å¯ä»¥æ‰§è¡Œä¸åŒçš„æŒ‡ä»¤.\nåœ¨è¿™ä¹‹ä¸‹,è¿˜æ˜¯ç”¨SIMDæ¥å®ç°å¤§éƒ¨åˆ†é€»è¾‘,é‡‡ç”¨å¼‚æ„çš„æ–¹å¼æ¥å®ç°å¹¶è¡Œ.\nä½†æœ‰nä¸ªåŠ æ³•, å³ä¸¤ä¸ªåŒ…å«nä¸ªå€¼çš„å‘é‡ç›¸åŠ . å®é™…ä¸Šä¸æ˜¯æ‰€æœ‰å•ä½éƒ½åœ¨ç­‰å¾…è®¡ç®—.è€Œæ˜¯ä¼šå…ˆè®¡ç®—å‡ºå¦‚ä½•åˆ†é…åˆ°å—ä¸­,åº•å±‚å—çš„å®é™…å¤§å°æ˜¯32, 32valuesè€Œä¸æ˜¯32byte. è¿™ä¸ªè¢«ç§°ä½œSIMDå®½åº¦,ä¸€èˆ¬æ˜¯8-32.\nGPUå’ŒCPUçš„å·®åˆ« CPU i7:\n4æ ¸ 8 SIMD ALUs per core æ¯ç§’å¤§æ¦‚å‡ åƒæ¬¡æµ®ç‚¹è¿ç®— GPU: RTX 1080\n20 cores 32 SIMD ALUs per core æ¯ç§’å¤§æ¦‚8mæ¬¡æµ®ç‚¹è¿ç®— GPUçš„æ ¸å¿ƒæ‘’å¼ƒäº†åˆ†æ”¯é¢„æµ‹ç­‰åªç”¨åšcontrol,å› æ­¤å¯ä»¥æœ‰æ›´å¤šçš„ALU.å¡«å……è¿›æ¥.\nå¤§æ¦‚æ˜¯80:1çš„åŸå§‹è®¡ç®—èƒ½åŠ›å·®å¼‚.\næ€»ç»“ ä¸‰ç§æ–¹æ³•å®ç°å¹¶è¡Œè®¡ç®—\nå¤šæ ¸CPU:\nçº¿ç¨‹çº§å®ç°å¹¶è¡Œ SIMD:\næŒ‡ä»¤çº§å¹¶è¡Œ é€šè¿‡å‘é‡åŒ–æŒ‡ä»¤å®ç° ä½†ä¾èµ–äºäº‹å…ˆçŸ¥é“æ‰§è¡Œçš„æŒ‡ä»¤ä¼˜å…ˆçº§é¡ºåº Superscaler: exploit ILP within an instruction stream\npaart2 accessing memory Memory latency: ä»CPUåˆ°å†…å­˜çš„æ—¶é—´\nexample: DRAMè®¿é—®æ—¶é—´ 100 cycles, 100ns Memory bandwidth: ä»å†…å­˜åˆ°CPUçš„æ—¶é—´\nexample: 20GB/s å…¶å®ä¸æ˜¯å¾ˆå¿« Stall: CPUç­‰å¾…å†…å­˜çš„æ—¶é—´ å½“cpuè¯•å›¾è¿›è¡Œè¯»å–è€Œå†…å­˜ä¸å¯ç”¨æ—¶ï¼Œå°±ä¼šåœç­‰çŸ¥é“å†…å­˜å¯ç”¨.\nç¼“å­˜å°±æ˜¯ä¸ºäº†è§£å†³Stallçš„é—®é¢˜.\nåœ¨å¤šçº§ç¼“å­˜ä¸­,é è¿‘æ ¸å¿ƒçš„ç¼“å­˜æ˜¯ç§æœ‰çš„. è¿™æ ·å¯ä»¥é€šè¿‡å†™å…¥è¯»å‡ºL2ç¼“å­˜çš„æ•°æ®æ¥å®ç°é€šè®¯,è€Œä¸éœ€è¦ç»è¿‡DRAM.\nç¼“å­˜å¯¹å»¶è¿Ÿå’Œå¸¦å®½éƒ½æœ‰å¸®åŠ©.\nPrefecthing reduces stalls ç¡¬ä»¶é€šå¸¸é€šè¿‡é¢„å–æ¥å‡å°‘å»¶è¿Ÿ. å³é¢„æµ‹ä¸‹ä¸€æ¬¡å¯èƒ½ä¼šè®¿é—®çš„æ•°æ®,å¹¶å°†å…¶æå‰è¯»å–åˆ°ç¼“å­˜ä¸­. ä¸è¿‡å¯èƒ½ä¼šé€ æˆä¿¡æ¯æ³„éœ²\nä½¿ç”¨é¢„å–çš„æ•ˆæœ: Multi-threading reduces stalls è®©å¤šä¸ªçº¿ç¨‹äº¤æ›¿è¿›è¡Œ, å¦‚asst1/prog2çš„å®ç°\nè¿™ä¹Ÿæ˜¯è¶…çº¿ç¨‹çš„å®ç°,åœ¨ä¸€ä¸ªæ ¸å¿ƒä¸­å¤šè·¯å¤ç”¨å¤šä¸ªæŒ‡ä»¤æµ. å¯¹äºCPU\u0026amp;GPU, è°æ¥ç»„ç»‡çº¿ç¨‹æ˜¯ä¸åŒçš„åšæ³•.(æ“ä½œç³»ç»Ÿ or ç¡¬ä»¶)\né€šå¸¸æƒ…å†µä¸‹å†…å­˜è¦æ¯”å…¶ä»–å› ç´ æ›´åŠ é™åˆ¶é€Ÿåº¦\n","permalink":"/en/posts/cmu-15418618/l2/","summary":"å¹¶è¡Œç¨‹åº 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 void sinx(int N, int terms, float* x, float* result) { for (int i = 0; i \u0026lt; N; i++) { float value = x[i]; float number = x[i] * x[i] * x[i]; int sign = -1; int denom = 6; for (int j = 0; j \u0026lt; terms; j++) { value","title":"L2"},{"content":"Parallelism åŠ é€Ÿæ¯” Speed up æ˜¯æŒ‡ï¼š ç¨‹åºåœ¨å•å¤„ç†å™¨ä¸Šè¿è¡Œçš„æ—¶é—´ / ç¨‹åºåœ¨å¤šå¤„ç†å™¨ä¸Šè¿è¡Œçš„æ—¶é—´\næˆ‘ä»¬ä¸€èˆ¬ä¼šæœŸæœ›ç”¨ä¸¤å€çš„ç¡¬ä»¶å¾—åˆ°ä¸¤å€çš„é€Ÿåº¦æå‡,ä½†æ˜¯å®é™…ä¸Šå¹¶ä¸æ˜¯è¿™æ ·çš„ã€‚\nåˆ¶çº¦æ€§èƒ½æå‡å¯èƒ½çš„å› ç´ æœ‰:\nèµ„æºåˆ†é…ä¸å‡åŒ€ é€šä¿¡å¼€é”€ çŸ­æ¿æ•ˆåº” å…±äº«èµ„æºè¯»å†™å†²çª ä¸ºä»€ä¹ˆè¦å»äº†è§£ç¡¬ä»¶ï¼Ÿ\nä»€ä¹ˆæ˜¯é™åˆ¶æ€§èƒ½çš„å› ç´ ï¼Ÿ å¯¼è‡´æ€§èƒ½ç“¶é¢ˆçš„åŸå› æ˜¯ä»€ä¹ˆï¼Ÿ Efficiency fast != efficient\nä»€ä¹ˆæ˜¯æ•ˆç‡ï¼Ÿ å°½å¯èƒ½åœ°åˆ©ç”¨èµ„æºï¼Œå‡å°‘æµªè´¹ æ¯”å¦‚æŒ‰æ—¶é—´ç§Ÿç”¨æœåŠ¡å™¨ã€‚\næ€»ç»“ å¹¶è¡Œç¨‹åºçš„æŒ‘æˆ˜ï¼š\nè´Ÿè½½å‡è¡¡ Load balance é€šä¿¡å»¶è¿Ÿ Communication latency é›†ä½“å·¥ä½œæ—¶ï¼ŒçœŸæ­£ç”¨äºè®¡ç®—çš„æ—¶é—´å¾ˆå°‘ ","permalink":"/en/posts/cmu-15418618/l1-%E5%B9%B6%E8%A1%8C%E8%AE%A1%E7%AE%97%E5%92%8C%E9%AB%98%E6%95%88/","summary":"Parallelism åŠ é€Ÿæ¯” Speed up æ˜¯æŒ‡ï¼š ç¨‹åºåœ¨å•å¤„ç†å™¨ä¸Šè¿è¡Œçš„æ—¶é—´ / ç¨‹åºåœ¨å¤šå¤„ç†å™¨ä¸Šè¿è¡Œçš„æ—¶é—´ æˆ‘ä»¬ä¸€èˆ¬ä¼šæœŸæœ›ç”¨ä¸¤å€çš„ç¡¬ä»¶å¾—åˆ°ä¸¤å€çš„é€Ÿåº¦æå‡,ä½†æ˜¯å®é™…ä¸Šå¹¶ä¸æ˜¯è¿™æ ·çš„","title":"Why parallelism? Why efficiency?"},{"content":"å…‰æ ‡ç§»åŠ¨ h: å·¦ç§»ä¸€ä¸ªå­—ç¬¦ j: ä¸‹ç§»ä¸€è¡Œ k: ä¸Šç§»ä¸€è¡Œ l: å³ç§»ä¸€ä¸ªå­—ç¬¦\nw: ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´ e: ç§»åŠ¨åˆ°å½“å‰å•è¯æœ«å°¾ b: ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªå•è¯çš„å¼€å¤´\n0: ç§»åŠ¨åˆ°è¡Œé¦– $: ç§»åŠ¨åˆ°è¡Œå°¾\nn + ä¸Šé¢çš„å‘½ä»¤: ç§»åŠ¨næ¬¡\ngg: ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´ G: ç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾\nä¸Šé¢æ‰€æœ‰å‘½ä»¤æ„æˆäº†ä¸€ä¸ªç§»åŠ¨å‘½ä»¤ï¼Œå¯ä»¥å’Œdå‘½ä»¤ç»„åˆä½¿ç”¨ï¼Œåˆ é™¤ä»å½“å‰å…‰æ ‡åˆ°ç§»åŠ¨å‘½ä»¤æ‰€æŒ‡çš„ä½ç½®çš„å†…å®¹\nctrl + f: ä¸‹ç¿»ä¸€é¡µ ctrl + b: ä¸Šç¿»ä¸€é¡µ ctrl + G: æ˜¾ç¤ºå½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå·\nctrl + i: è·³è½¬åˆ°ä¸Šæ¬¡ä½ç½®Â· ctrl + o: è·³è½¬åˆ°ä¸‹æ¬¡ä½ç½®\nG + n: ç§»åŠ¨åˆ°ç¬¬nè¡Œ\næ’å…¥ i: åœ¨å½“å‰å…‰æ ‡å¤„æ’å…¥ I: åœ¨å½“å‰è¡Œé¦–æ’å…¥\na: åœ¨å½“å‰å…‰æ ‡åæ’å…¥ A: åœ¨å½“å‰è¡Œå°¾æ’å…¥\no: åœ¨å½“å‰è¡Œä¸‹æ–¹æ’å…¥ä¸€è¡Œ O: åœ¨å½“å‰è¡Œä¸Šæ–¹æ’å…¥ä¸€è¡Œ\nåˆ é™¤ x: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨çš„å­—ç¬¦ X: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨çš„å‰ä¸€ä¸ªå­—ç¬¦\ndd: åˆ é™¤å½“å‰è¡Œ D: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°è¡Œå°¾çš„å†…å®¹\nd + ç§»åŠ¨å‘½ä»¤: åˆ é™¤ä»å½“å‰å…‰æ ‡åˆ°ç§»åŠ¨å‘½ä»¤æ‰€æŒ‡çš„ä½ç½®çš„å†…å®¹\nå¦‚: dw: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨çš„å•è¯ db: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨çš„å•è¯ d$: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°è¡Œå°¾çš„å†…å®¹ dnG: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œåˆ°ç¬¬nè¡Œçš„å†…å®¹ dG: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œåˆ°æ–‡ä»¶æœ«å°¾çš„å†…å®¹\nå‰ªåˆ‡ ä¸Šé¢åˆ é™¤çš„å†…å®¹éƒ½ä¼šè¢«ä¿å­˜åˆ°å‰ªåˆ‡æ¿ä¸­\nåˆ é™¤å¹¶è¿›å…¥æ’å…¥æ¨¡å¼ s: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨çš„å­—ç¬¦å¹¶è¿›å…¥æ’å…¥æ¨¡å¼ S: åˆ é™¤å½“å‰è¡Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼\nc + ç§»åŠ¨å‘½ä»¤: åˆ é™¤ä»å½“å‰å…‰æ ‡åˆ°ç§»åŠ¨å‘½ä»¤æ‰€æŒ‡çš„ä½ç½®çš„å†…å®¹å¹¶è¿›å…¥æ’å…¥æ¨¡å¼\nå¦‚: cw: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨çš„å•è¯å¹¶è¿›å…¥æ’å…¥æ¨¡å¼ c$: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°è¡Œå°¾çš„å†…å®¹å¹¶è¿›å…¥æ’å…¥æ¨¡å¼ cnG: åˆ é™¤å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œåˆ°ç¬¬nè¡Œçš„å†…å®¹å¹¶è¿›å…¥æ’å…¥æ¨¡å¼\nå¤åˆ¶ y + ç§»åŠ¨å‘½ä»¤: å¤åˆ¶ä»å½“å‰å…‰æ ‡åˆ°ç§»åŠ¨å‘½ä»¤æ‰€æŒ‡çš„ä½ç½®çš„å†…å®¹\nå¦‚: yw: å¤åˆ¶å½“å‰å…‰æ ‡æ‰€åœ¨çš„å•è¯ yb: å¤åˆ¶å½“å‰å…‰æ ‡æ‰€åœ¨çš„å•è¯ y$: å¤åˆ¶å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°è¡Œå°¾çš„å†…å®¹ ynG: å¤åˆ¶å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œåˆ°ç¬¬nè¡Œçš„å†…å®¹\nç²˜è´´ æ‰€æœ‰åˆ é™¤çš„å†…å®¹éƒ½ä¼šè¢«ä¿å­˜åˆ°å‰ªåˆ‡æ¿ä¸­ï¼Œå¯ä»¥ä½¿ç”¨på‘½ä»¤å°†å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹ç²˜è´´åˆ°å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½® p: å°†å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹ç²˜è´´åˆ°å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„åé¢ P: å°†å‰ªåˆ‡æ¿ä¸­çš„å†…å®¹ç²˜è´´åˆ°å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å‰é¢\næ›¿æ¢ r + å­—ç¬¦: å°†å½“å‰å…‰æ ‡æ‰€åœ¨çš„å­—ç¬¦æ›¿æ¢ä¸ºæŒ‡å®šçš„å­—ç¬¦\nR + å­—ç¬¦ä¸²: å°†å½“å‰å…‰æ ‡æ‰€åœ¨ä½ç½®å¼€å§‹çš„å­—ç¬¦ä¸²æ›¿æ¢ä¸ºæŒ‡å®šçš„å­—ç¬¦ä¸²\næ’¤é”€ u: æ’¤é”€ä¸Šä¸€æ¬¡æ“ä½œ U: æ’¤é”€å½“å‰è¡Œçš„æ‰€æœ‰æ“ä½œ\nctrl + r: æ¢å¤ä¸Šä¸€æ¬¡æ’¤é”€çš„æ“ä½œ\né‡å¤ . : é‡å¤ä¸Šä¸€æ¬¡æ“ä½œ\næŸ¥æ‰¾ / + å…³é”®å­—: ä»å½“å‰å…‰æ ‡å¼€å§‹å‘ä¸‹æŸ¥æ‰¾å…³é”®å­— ? + å…³é”®å­—: ä»å½“å‰å…‰æ ‡å¼€å§‹å‘ä¸ŠæŸ¥æ‰¾å…³é”®å­—\nè¾“å®ŒåæŒ‰å›è½¦ï¼Œä¼šè·³è½¬åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„ä½ç½®.\nn: è·³è½¬åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…çš„ä½ç½® N: è·³è½¬åˆ°ä¸Šä¸€ä¸ªåŒ¹é…çš„ä½ç½®\n: è¿›é˜¶å‘½ä»¤ :w ä¿å­˜æ–‡ä»¶ :q é€€å‡º :q! å¼ºåˆ¶é€€å‡ºï¼Œä¸ä¿å­˜ :wq ä¿å­˜å¹¶é€€å‡º :wq! å¼ºåˆ¶ä¿å­˜å¹¶é€€å‡º\nä¸Šé¢çš„å‘½ä»¤ + æ–‡ä»¶å: ä¿å­˜æ–‡ä»¶åˆ°æŒ‡å®šçš„æ–‡ä»¶å\n:help å‘½ä»¤å: æŸ¥çœ‹å‘½ä»¤çš„å¸®åŠ©æ–‡æ¡£\næ›¿æ¢ :%s/old/new/g å°†æ‰€æœ‰çš„oldæ›¿æ¢ä¸ºnew :%s/old/new/gc å°†æ‰€æœ‰çš„oldæ›¿æ¢ä¸ºnewï¼Œæ›¿æ¢å‰è¯¢é—®æ˜¯å¦æ›¿æ¢\n:#,#s/old/new/g å°†ç¬¬#è¡Œåˆ°ç¬¬#è¡Œçš„oldæ›¿æ¢ä¸ºnew\nå¤–éƒ¨å‘½ä»¤ :! + å‘½ä»¤: æ‰§è¡Œå¤–éƒ¨å‘½ä»¤\nå¦‚: :!ls æ‰§è¡Œlså‘½ä»¤ :!dir æ‰§è¡Œdirå‘½ä»¤\n","permalink":"/en/posts/tools/vim/%E6%8C%87%E4%BB%A4%E6%89%8B%E5%86%8C/","summary":"å…‰æ ‡ç§»åŠ¨ h: å·¦ç§»ä¸€ä¸ªå­—ç¬¦ j: ä¸‹ç§»ä¸€è¡Œ k: ä¸Šç§»ä¸€è¡Œ l: å³ç§»ä¸€ä¸ªå­—ç¬¦ w: ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªå•è¯çš„å¼€å¤´ e: ç§»åŠ¨åˆ°å½“å‰å•è¯æœ«å°¾ b: ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªå•è¯çš„å¼€å¤´ 0: ç§»åŠ¨åˆ°è¡Œé¦– $: ç§»","title":"vimçš„ä½¿ç”¨"},{"content":" ","permalink":"/en/posts/c++/modern-c++/","summary":"","title":"æµ‹è¯• blog2313"},{"content":"TL;DR èƒŒæ™¯: å·²ä½¿ç”¨nextcloudå’Œtyporaå†™ç¬”è®° éœ€æ±‚: å°†ç¬”è®°è½¬æ¢ä¸ºåšå®¢.(ä¸”å› ä¸ºæœ¬äººå¤ªæ‡’,ğŸ˜‚ æ‰€ä»¥éœ€è¦å…¨è‡ªåŠ¨åŒ–) åœ¨nextcloudä¸­, ä¸“é—¨è®¾ç½®ä¸€ä¸ªæ–‡ä»¶å¤¹\u0026quot;ç¬”è®°\u0026quot; è½¬æ¢ä¸ºåšå®¢æ–‡ä»¶å¤¹ ä¸èƒ½æ”¹å˜åŸæ¥è®°ç¬”è®°çš„æ–¹å¼ ä¸èƒ½æœ‰ä»»ä½•æ–°å¢çš„æ“ä½œ æ–¹æ¡ˆ: ä½¿ç”¨hugoæ­å»ºåšå®¢ ä½¿ç”¨Github pageséƒ¨ç½²åšå®¢ ä½¿ç”¨Github Actionsè‡ªåŠ¨åŒ–éƒ¨ç½² ä½¿ç”¨pyè„šæœ¬å°†ç¬”è®°è½¬æ¢ä¸ºåšå®¢ ä½¿ç”¨ä»»åŠ¡è®¡åˆ’ç¨‹åºå®šæ—¶æ‰§è¡Œpyè„šæœ¬ ä½¿ç”¨hugoæ­å»ºåšå®¢ å‚è€ƒ: hugoå®˜ç½‘ Hugo+Github Pages+Github Actionåšå®¢æ–¹æ¡ˆä¹‹äºŒ Hugo+Github Pages+Github Actionåšå®¢æ–¹æ¡ˆä¹‹ä¸‰ PaperModä¸»é¢˜\nåˆ›å»ºgithubä»“åº“ è¦åˆ›å»ºä¸¤ä¸ªä»“åº“\nä¸€ä¸ªä»“åº“ç”¨äºå­˜æ”¾åšå®¢æºç  ä¸€ä¸ªä»“åº“ç”¨äºå­˜æ”¾åšå®¢é™æ€æ–‡ä»¶ åˆ›å»ºåšå®¢é™æ€æ–‡ä»¶ä»“åº“ è®¾ç½®ä»“åº“åä¸º: ç”¨æˆ·å.github.io æˆ‘çš„åšå®¢ä»“åº“\nåˆ›å»ºåšå®¢æºç ä»“åº“ è®¾ç½®ä»“åº“åä¸º: hugo-blog // ä»“åº“åå¯ä»¥è‡ªå®šä¹‰ æˆ‘çš„åšå®¢æºç ä»“åº“\nå®‰è£…hugo 1 scoop install hugo åˆ›å»ºhugoåšå®¢ 1 hugo new site hugo-blog å®‰è£…ä¸»é¢˜ 1 2 3 4 cd hugo-blog ## è¿›å…¥åšå®¢ç›®å½•, è¿™ä¸ªæ˜¯åšå®¢æºç ä»“åº“ git init git submodule add --depth=1 https://github.com/adityatelange/hugo-PaperMod.git themes/PaperMod git submodule update --init --recursive ## needed when you reclone your repo (submodules may not get cloned automatically) é…ç½®ä¸»é¢˜ è¿™é‡Œä½¿ç”¨yamlæ ¼å¼çš„é…ç½®æ–‡ä»¶, ä¹Ÿå¯ä»¥ä½¿ç”¨tomlæ ¼å¼çš„é…ç½®æ–‡ä»¶ æ‰€ä»¥éœ€è¦åˆ é™¤config.tomlæ–‡ä»¶, å¹¶åˆ›å»ºconfig.yamlæ–‡ä»¶\nconfig.yaml:\n1 2 3 4 baseURL: / title: ysyy\u0026#39;s blog theme: PaperMod languageCode: zh-cn å‰©ä½™é…ç½®å‚è€ƒ\nåˆ›å»ºæ–‡ç«  1 hugo new posts/first/hello-world.md æœ¬åœ°é¢„è§ˆ 1 hugo server -D ç”Ÿæˆé™æ€æ–‡ä»¶ ç”Ÿæˆé™æ€æ–‡ä»¶, ç”Ÿæˆçš„é™æ€æ–‡ä»¶åœ¨ publicæ–‡ä»¶å¤¹ä¸­ã€‚ ä¹‹åæˆ‘ä»¬å°†è¿™ä¸ªæ–‡ä»¶å¤¹ä¸­å¤åˆ¶åˆ°åšå®¢é™æ€æ–‡ä»¶ä»“åº“ä¸­\n1 hugo éƒ¨ç½²åˆ°github pages åˆ›å»ºé™æ€æ–‡ä»¶å¤¹\n1 2 3 4 5 git clone git@ç”¨æˆ·å.github.io.git cd ç”¨æˆ·å.github.io cp -r hugo-blog/public/* ./ æäº¤åˆ°github\n1 2 3 git add . git commit -m \u0026#34;first commit\u0026#34; git push origin main é…ç½®github pages åœ¨githubä¸­çš„ ç”¨æˆ·å.github.ioä»“åº“ä¸­, ç‚¹å‡» Settingsé€‰é¡¹å¡, æ‰¾åˆ° GitHub Pagesé€‰é¡¹, å°† Sourceé€‰é¡¹è®¾ç½®ä¸º mainåˆ†æ”¯, ç‚¹å‡» SaveæŒ‰é’®, è¿™æ ·å°±å¯ä»¥é€šè¿‡ https://ç”¨æˆ·å.github.ioè®¿é—®åšå®¢äº†\nä½¿ç”¨Github Actionsè‡ªåŠ¨åŒ–éƒ¨ç½² å‚è€ƒ\nå¦‚æœæ¯ä¸€æ¬¡æ›´æ–°/å‘å¸ƒæ–°åšå®¢éƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œä¸Šé¢çš„æ­¥éª¤, é‚£ä¹ˆå°±å¤ªéº»çƒ¦äº†, æ‰€ä»¥æˆ‘ä»¬éœ€è¦è‡ªåŠ¨åŒ–éƒ¨ç½²\nåœ¨åšå®¢æºç ä»“åº“çš„æ ¹ç›®å½•ä¸‹åˆ›å»º .github/workflows/deploy.ymlæ–‡ä»¶\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 name: ysyyblog on: push: branches: - main jobs: build-deploy: runs-on: ubuntu-20.04 # runs-on: macos-latest steps: - uses: actions/checkout@v3 with: submodules: true # Fetch Hugo themes (true OR recursive) fetch-depth: 0 # Fetch all history for .GitInfo and .Lastmod - name: Setup Hugo uses: peaceiris/actions-hugo@v2 with: hugo-version: \u0026#39;latest\u0026#39; # extended: true - name: Build run: hugo --minify - name: Deploy uses: peaceiris/actions-gh-pages@v3 with: personal_token: ${{ secrets.PERSONAL_TOKEN }} # å¦å¤–è¿˜æ”¯æŒ deploy_token å’Œ github_token external_repository: ysyyhhh/ysyyhhh.github.io # ä¿®æ”¹ä¸ºä½ çš„ é™æ€æ–‡ä»¶GitHub Pages ä»“åº“ publish_dir: ./public # keep_files: false publish_branch: main # å¦‚æœä½¿ç”¨è‡ªå®šä¹‰åŸŸåï¼Œè¿˜éœ€è¦æ·»åŠ ä¸‹é¢ä¸€è¡Œé…ç½® # cname: www åˆ›å»ºpersonal_token åœ¨githubä¸»é¡µçš„å³ä¸Šè§’ç‚¹å‡»å¤´åƒ, ç‚¹å‡» Settingsé€‰é¡¹å¡, æ‰¾åˆ° Developer settingsé€‰é¡¹,\næ‰¾åˆ° Personal access tokensé€‰é¡¹, ç‚¹å‡» Generate new tokenæŒ‰é’®, åˆ›å»ºä¸€ä¸ªæ–°çš„token\né…ç½®personal_token åœ¨hugo-blogä»“åº“ä¸­, ç‚¹å‡» Settingsé€‰é¡¹å¡, æ‰¾åˆ° Secretsé€‰é¡¹, ç‚¹å‡» New repository secretæŒ‰é’®,\næ–°å¢ä¸€ä¸ªåä¸º PERSONAL_TOKENçš„secret, å€¼ä¸ºä¸Šé¢åˆ›å»ºçš„personal_token\næµ‹è¯•è‡ªåŠ¨åŒ–éƒ¨ç½² åœ¨æœ¬åœ°çš„hugo-blogä»“åº“ä¸­, ä¿®æ”¹ content/posts/first/hello-world.mdæ–‡ä»¶, ç„¶åæäº¤åˆ°github\nå¯ä»¥åœ¨ Actionsé€‰é¡¹å¡ä¸­æŸ¥çœ‹è‡ªåŠ¨åŒ–éƒ¨ç½²çš„çŠ¶æ€\nå¦‚æœåœ¨ Actionsé€‰é¡¹å¡ä¸­çœ‹åˆ°äº† build-deployä»»åŠ¡, ä¸”çŠ¶æ€ä¸º success, é‚£ä¹ˆå°±è¯´æ˜è‡ªåŠ¨åŒ–éƒ¨ç½²æˆåŠŸäº†\nå¯ä»¥åœ¨ ç”¨æˆ·å.github.ioä»“åº“ä¸­æŸ¥çœ‹æ˜¯å¦å·²ç»æ›´æ–°.\nä½¿ç”¨ä»»åŠ¡è®¡åˆ’ç¨‹åºå’Œpyè„šæœ¬å®ç°å…¨è‡ªåŠ¨åŒ– ä¸Šé¢çš„æ­¥éª¤å·²ç»è®©æˆ‘ä»¬å‘å¸ƒç¬”è®°çš„è¿‡ç¨‹å˜æˆ:\nä½¿ç”¨hugo new / ç›´æ¥ç¼–è¾‘ contentçš„æ–‡ä»¶ æ¥åˆ›å»ºç¬”è®° æäº¤åˆ°hugo-blogä»“åº“ ç„¶åhugo-blogä»“åº“å°±ä¼šè‡ªåŠ¨éƒ¨ç½²åˆ°ç”¨æˆ·å.github.ioä»“åº“ä¸­\nè™½ç„¶å·²ç»åªå‰©ä¸¤æ­¥äº†,ä½†éµå¾ªèƒ½è‡ªåŠ¨åŒ–å°±è‡ªåŠ¨åŒ–çš„åŸåˆ™, æˆ‘ä»¬è¿˜æ˜¯è¦æŠŠè¿™ä¸¤æ­¥ä¹Ÿè‡ªåŠ¨åŒ–\nä½¿ç”¨pyè„šæœ¬å°†ç¬”è®°è½¬æ¢ä¸ºåšå®¢ å®‰è£…pythonè¿™äº›æ­¥éª¤å°±çœå»äº†,è¿™é‡Œç›´æ¥ç»™å‡ºpyè„šæœ¬\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 \u0026#39;\u0026#39;\u0026#39; æ¯å¤©å®šæ—¶æ›´æ–°åšå®¢å†…å®¹ 1.è¿›å…¥é¡¹ç›®æ ¹ç›®å½•: D:/program_about/hugo/hugo-blog 2. å°†D:/nextcloud/ç¬”è®°/ä¸‹çš„æ–‡ä»¶åŒæ­¥åˆ° ./content/posts/ä¸‹ 3. æ‰§è¡Œ./push.bat æˆ– git add . \u0026amp;\u0026amp; git commit -m \u0026#34;update\u0026#34; \u0026amp;\u0026amp; git push \u0026#39;\u0026#39;\u0026#39; import os import shutil def create_index(root, name): \u0026#39;\u0026#39;\u0026#39; name = A.md åœ¨rootä¸‹ç”Ÿæˆ\u0026#39;A\u0026#39;æ–‡ä»¶å¤¹ å°†A.mdç§»åŠ¨åˆ°Aæ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶é‡å‘½åä¸ºindex.md å¦‚æœ å­˜åœ¨ root + \u0026#39;/img\u0026#39; çš„æ–‡ä»¶å¤¹ å°† root + \u0026#39;/img\u0026#39; å¤åˆ¶åˆ° root + \u0026#39;/A/img\u0026#39; ä¸‹ \u0026#39;\u0026#39;\u0026#39; # ç”Ÿæˆæ–‡ä»¶å¤¹ dir_name = name.split(\u0026#39;.\u0026#39;)[0] print(root, name, dir_name) os.mkdir(os.path.join(root, dir_name)) # ç§»åŠ¨æ–‡ä»¶ shutil.move(os.path.join(root, name), os.path.join(root, dir_name, \u0026#39;index.md\u0026#39;)) # å¤„ç†img if os.path.exists(os.path.join(root, \u0026#39;img\u0026#39;)): shutil.copytree(os.path.join(root, \u0026#39;img\u0026#39;), os.path.join(root, dir_name, \u0026#39;img\u0026#39;)) def adjust(dir): os.chdir(dir) \u0026#39;\u0026#39;\u0026#39; å°†æ‰€æœ‰ä¸‹é¢çš„æ ¼å¼ - A.md - img - A-1.png è½¬æ¢æˆ - A - index.md - img - A-1.png å¦‚æœé‡åˆ°\u0026#34;.md\u0026#34;æ–‡ä»¶,ç›´æ¥åˆ é™¤ \u0026#39;\u0026#39;\u0026#39; for(root, dirs, files) in os.walk(\u0026#34;.\u0026#34;): root = os.path.join(dir, root) for name in files: if name == \u0026#39;.md\u0026#39;: os.remove(os.path.join(root, name)) continue if name.endswith(\u0026#39;.md\u0026#39;): create_index(root, name) for name in dirs: # é€’å½’è°ƒç”¨ adjust(os.path.join(root, name)) def sync(): root_path = \u0026#39;D:/program_about/hugo/hugo-blog\u0026#39; os.chdir(root_path) # å½“æ–‡ä»¶å·²å­˜åœ¨æ—¶ï¼Œæ— æ³•åˆ›å»ºè¯¥æ–‡ä»¶ã€‚: \u0026#39;./content/posts/\u0026#39; shutil.rmtree(\u0026#39;./content/posts/\u0026#39;) # gitä¸­ä¹Ÿè¦åˆ é™¤ os.system(\u0026#39;git rm -r ./content/posts/\u0026#39;) shutil.copytree(\u0026#39;D:/nextcloud/ç¬”è®°/\u0026#39;, \u0026#39;./content/posts/\u0026#39;) # æŠŠæ‰€æœ‰æ–‡ä»¶å¤¹å’Œæ–‡ä»¶çš„åç§°å¤§å†™è½¬æ¢ä¸ºå°å†™ os.chdir(\u0026#39;./content/posts/\u0026#39;) for root, dirs, files in os.walk(\u0026#34;.\u0026#34;): for name in files: new_name = name.lower() os.rename(os.path.join(root, name), os.path.join(root, new_name)) for name in dirs: new_name = name.lower() os.rename(os.path.join(root, name), os.path.join(root, new_name)) # è°ƒæ•´æ–‡ä»¶å¤¹ç»“æ„ adjust(root_path+\u0026#39;./content/posts/\u0026#39;) # ä¸Šä¼ åˆ°git # os.chdir(\u0026#39;./content/posts/\u0026#39;) os.chdir(\u0026#39;D:/program_about/hugo/hugo-blog\u0026#39;) os.system(\u0026#39;git add ./content/posts/\u0026#39;) os.system(\u0026#39;git commit -m \u0026#34;update\u0026#34;\u0026#39;) os.system(\u0026#39;git push\u0026#39;) os.chdir(\u0026#39;D:/program_about/hugo/hugo-blog\u0026#39;) print(\u0026#39;sync done\u0026#39;) if __name__ == \u0026#39;__main__\u0026#39;: sync() å°†ä¸Šé¢çš„è·¯å¾„ä¿®æ”¹ä¸ºè‡ªå·±çš„è·¯å¾„, ç„¶åä¿å­˜ä¸º sync.pyæ–‡ä»¶ å¯ä»¥æ‰§è¡Œpyè„šæœ¬,æµ‹è¯•ä¸€ä¸‹\nå…³äºå›¾ç‰‡è·¯å¾„é—®é¢˜ å‚è€ƒæ–¹æ¡ˆ\nå› ä¸ºæˆ‘å¹³æ—¶çš„å›¾ç‰‡è·¯å¾„æ˜¯\n1 2 3 - A.md - img - A-1.png ä½†æ˜¯hugoä¼šå°†A.mdæ–‡ä»¶è½¬æ¢ä¸ºAæ–‡ä»¶å¤¹, æ‰€ä»¥æ­¤æ—¶æ˜¯æ— æ³•è®¿é—®A-1.pngçš„.\nè¿™é‡Œæ˜¯é€šè¿‡æ”¹å˜ç›¸å¯¹è·¯å¾„å…³ç³»æ¥è§£å†³çš„, å³ä»£ç ä¸­çš„adjust()\nå½“ç„¶å¦‚æœä½ æœ‰å›¾åºŠå°±ä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦äº†\nä½¿ç”¨ä»»åŠ¡è®¡åˆ’ç¨‹åºå®šæ—¶æ‰§è¡Œpyè„šæœ¬ å‚è€ƒ è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯win10è‡ªå¸¦çš„ä»»åŠ¡è®¡åˆ’ç¨‹åº, å…¶ä»–ç³»ç»Ÿçš„ä»»åŠ¡è®¡åˆ’ç¨‹åºä¹Ÿæ˜¯ç±»ä¼¼çš„\nä»¥ä¸‹æ­¥éª¤ç”±Claudeç”Ÿæˆ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 ä¸‹é¢æ˜¯å¦‚ä½•ä½¿ç”¨Windowsä»»åŠ¡è®¡åˆ’ç¨‹åºæ¥é…ç½®å®šæ—¶æ¯å¤©æ‰§è¡ŒPythonè„šæœ¬çš„æ­¥éª¤: æ‰“å¼€ä»»åŠ¡è®¡åˆ’ç¨‹åº(Windows + R è¾“å…¥taskschd.mscå›è½¦) ç‚¹å‡»\u0026#34;æ“ä½œ\u0026#34;æ ä¸­çš„\u0026#34;åˆ›å»ºåŸºæœ¬ä»»åŠ¡\u0026#34; è¾“å…¥ä»»åŠ¡åç§°,é€‰æ‹©è§¦å‘å™¨ä¸ºæ¯å¤©å®šæ—¶,è®¾ç½®æ‰§è¡Œæ—¶é—´ åœ¨æ“ä½œæ ä¸­,ç‚¹å‡»â€œæ–°å»ºâ€ é€‰æ‹©â€œå¯åŠ¨ä¸€ä¸ªç¨‹åºâ€ åœ¨â€œç¨‹åº/è„šæœ¬â€æ¡†ä¸­è¾“å…¥Pythonè§£é‡Šå™¨çš„è·¯å¾„,ä¾‹å¦‚C:\\Python37\\python.exe åœ¨â€œæ·»åŠ å‚æ•°(å¯é€‰)â€ä¸­è¾“å…¥pythonè„šæœ¬æ–‡ä»¶çš„å®Œæ•´è·¯å¾„,ä¾‹å¦‚C:\\Users\\username\\script.py ç‚¹å‡»â€œç¡®å®šâ€ä¿å­˜æ­¤æ“ä½œ åœ¨ä¸‹ä¸€é¡µä¸­é€‰æ‹©ç”¨æˆ·è´¦å·,ä¾‹å¦‚â€œå½“å‰ç”¨æˆ·â€ ç‚¹å‡»â€œç¡®å®šâ€å®Œæˆåˆ›å»ºä»»åŠ¡ æ ¹æ®éœ€è¦é…ç½®è§¦å‘å™¨è®°å½•å’Œå…¶ä»–é€‰é¡¹ ç‚¹å‡»â€œç¡®å®šâ€ä¿å­˜ä»»åŠ¡ ä»»åŠ¡å°†åœ¨è®¾å®šçš„æ—¶é—´è‡ªåŠ¨æ‰§è¡Œpythonè„šæœ¬æ–‡ä»¶ æ¯æ¬¡ä¿®æ”¹è„šæœ¬åéœ€è¦åœæ­¢åŸæœ‰ä»»åŠ¡,ç„¶åå†æ–°å»ºä¸€ä¸ªç›¸åŒçš„ä»»åŠ¡æ¥åŠ è½½ä¿®æ”¹åçš„è„šæœ¬ä»£ç ã€‚ éœ€è¦æ³¨æ„python interpreterè·¯å¾„å’Œè„šæœ¬è·¯å¾„çš„æ­£ç¡®æ€§ã€‚å®šæ—¶æ‰§è¡Œæ ¼å¼ä¹Ÿéœ€è¦æ­£ç¡®,è¿™æ ·å°±å¯ä»¥å®ç°Windowsç³»ç»Ÿä¸­çš„è‡ªåŠ¨å®šæ—¶ä»»åŠ¡æ‰§è¡ŒPythonè„šæœ¬äº†ã€‚ ","permalink":"/en/posts/tools/%E8%87%AA%E5%8A%A8%E5%8C%96%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/","summary":"TL;DR èƒŒæ™¯: å·²ä½¿ç”¨nextcloudå’Œtyporaå†™ç¬”è®° éœ€æ±‚: å°†ç¬”è®°è½¬æ¢ä¸ºåšå®¢.(ä¸”å› ä¸ºæœ¬äººå¤ªæ‡’,ğŸ˜‚ æ‰€ä»¥éœ€è¦å…¨è‡ªåŠ¨åŒ–) åœ¨nextcloudä¸­, ä¸“","title":"ç”¨Hugo + Github Pages/Action + py + ä»»åŠ¡è®¡åˆ’ç¨‹åº æ­å»º å…¨è‡ªåŠ¨åŒ–markdownç¬”è®°è½¬åšå®¢"},{"content":"","permalink":"/en/search/","summary":"","title":""}]